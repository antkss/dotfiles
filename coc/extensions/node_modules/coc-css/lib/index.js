var Ks=Object.create;var lr=Object.defineProperty;var ea=Object.getOwnPropertyDescriptor;var ta=Object.getOwnPropertyNames;var ra=Object.getPrototypeOf,na=Object.prototype.hasOwnProperty;var Si=e=>lr(e,"__esModule",{value:!0});var ia=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qi=(e,t)=>{for(var i in t)lr(e,i,{get:t[i],enumerable:!0})},xi=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ta(t))!na.call(e,r)&&(i||r!=="default")&&lr(e,r,{get:()=>t[r],enumerable:!(n=ea(t,r))||n.enumerable});return e},it=(e,t)=>xi(Si(lr(e!=null?Ks(ra(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),fr=(e=>(t,i)=>e&&e.get(t)||(i=xi(Si({}),t,1),e&&e.set(t,i),i))(typeof WeakMap!="undefined"?new WeakMap:0);var He=E(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});var zr;function Vr(){if(zr===void 0)throw new Error("No runtime abstraction layer installed");return zr}(function(e){function t(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");zr=i}e.install=t})(Vr||(Vr={}));Br.default=Vr});var Jr=E(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.Disposable=void 0;var oa;(function(e){function t(i){return{dispose:i}}e.create=t})(oa=Ft.Disposable||(Ft.Disposable={}))});var Li=E(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.AbstractMessageBuffer=void 0;var sa=13,aa=10,ca=`\r
`,Ai=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let i=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(i),this._totalLength+=i.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,i=0,n=0,r=0;e:for(;i<this._chunks.length;){let d=this._chunks[i];n=0;t:for(;n<d.length;){switch(d[n]){case sa:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case aa:switch(t){case 1:t=2;break;case 3:t=4,n++;break e;default:t=0}break;default:t=0}n++}r+=d.byteLength,i++}if(t!==4)return;let o=this._read(r+n),a=new Map,l=this.toString(o,"ascii").split(ca);if(l.length<2)return a;for(let d=0;d<l.length-2;d++){let f=l[d],v=f.indexOf(":");if(v===-1)throw new Error("Message header must separate key and value using :");let y=f.substr(0,v),P=f.substr(v+1).trim();a.set(y,P)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}let i=this.allocNative(t),n=0,r=0;for(;t>0;){let o=this._chunks[r];if(o.byteLength>t){let a=o.slice(0,t);i.set(a,n),n+=t,this._chunks[r]=o.slice(t),this._totalLength-=t,t-=t}else i.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return i}};hr.AbstractMessageBuffer=Ai});var $i=E(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});var ua=He(),Ii=require("util"),ot=Jr(),da=Li(),Wt=class extends da.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return Wt.emptyBuffer}fromString(t,i){return Buffer.from(t,i)}toString(t,i){return t instanceof Buffer?t.toString(i):new Ii.TextDecoder(i).decode(t)}asNative(t,i){return i===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,i):Buffer.from(t,0,i)}allocNative(t){return Buffer.allocUnsafe(t)}};Wt.emptyBuffer=Buffer.allocUnsafe(0);var Fi=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ot.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ot.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ot.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),ot.Disposable.create(()=>this.stream.off("data",t))}},Wi=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ot.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ot.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ot.Disposable.create(()=>this.stream.off("end",t))}write(t,i){return new Promise((n,r)=>{let o=a=>{a==null?n():r(a)};typeof t=="string"?this.stream.write(t,i,o):this.stream.write(t,o)})}end(){this.stream.end()}},Ui=Object.freeze({messageBuffer:Object.freeze({create:e=>new Wt(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(i){return Promise.reject(i)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Ii.TextDecoder(t.charset).decode(e)))}catch(i){return Promise.reject(i)}}})}),stream:Object.freeze({asReadableStream:e=>new Fi(e),asWritableStream:e=>new Wi(e)}),console,timer:Object.freeze({setTimeout(e,t,...i){let n=setTimeout(e,t,...i);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let i=setImmediate(e,...t);return{dispose:()=>clearImmediate(i)}},setInterval(e,t,...i){let n=setInterval(e,t,...i);return{dispose:()=>clearInterval(n)}}})});function Xr(){return Ui}(function(e){function t(){ua.default.install(Ui)}e.install=t})(Xr||(Xr={}));Qr.default=Xr});var Rt=E(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.stringArray=le.array=le.func=le.error=le.number=le.string=le.boolean=void 0;function la(e){return e===!0||e===!1}le.boolean=la;function Hi(e){return typeof e=="string"||e instanceof String}le.string=Hi;function fa(e){return typeof e=="number"||e instanceof Number}le.number=fa;function pa(e){return e instanceof Error}le.error=pa;function ha(e){return typeof e=="function"}le.func=ha;function zi(e){return Array.isArray(e)}le.array=zi;function ga(e){return zi(e)&&e.every(t=>Hi(t))}le.stringArray=ga});var Gr=E(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.Message=q.NotificationType9=q.NotificationType8=q.NotificationType7=q.NotificationType6=q.NotificationType5=q.NotificationType4=q.NotificationType3=q.NotificationType2=q.NotificationType1=q.NotificationType0=q.NotificationType=q.RequestType9=q.RequestType8=q.RequestType7=q.RequestType6=q.RequestType5=q.RequestType4=q.RequestType3=q.RequestType2=q.RequestType1=q.RequestType=q.RequestType0=q.AbstractMessageSignature=q.ParameterStructures=q.ResponseError=q.ErrorCodes=void 0;var st=Rt(),Vi;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(Vi=q.ErrorCodes||(q.ErrorCodes={}));var gr=class extends Error{constructor(t,i,n){super(i);this.code=st.number(t)?t:Vi.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,gr.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};q.ResponseError=gr;var ae=class{constructor(t){this.kind=t}static is(t){return t===ae.auto||t===ae.byName||t===ae.byPosition}toString(){return this.kind}};q.ParameterStructures=ae;ae.auto=new ae("auto");ae.byPosition=new ae("byPosition");ae.byName=new ae("byName");var Q=class{constructor(t,i){this.method=t,this.numberOfParams=i}get parameterStructures(){return ae.auto}};q.AbstractMessageSignature=Q;var Bi=class extends Q{constructor(t){super(t,0)}};q.RequestType0=Bi;var Ji=class extends Q{constructor(t,i=ae.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.RequestType=Ji;var Xi=class extends Q{constructor(t,i=ae.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.RequestType1=Xi;var Qi=class extends Q{constructor(t){super(t,2)}};q.RequestType2=Qi;var Gi=class extends Q{constructor(t){super(t,3)}};q.RequestType3=Gi;var Zi=class extends Q{constructor(t){super(t,4)}};q.RequestType4=Zi;var Yi=class extends Q{constructor(t){super(t,5)}};q.RequestType5=Yi;var Ki=class extends Q{constructor(t){super(t,6)}};q.RequestType6=Ki;var eo=class extends Q{constructor(t){super(t,7)}};q.RequestType7=eo;var to=class extends Q{constructor(t){super(t,8)}};q.RequestType8=to;var ro=class extends Q{constructor(t){super(t,9)}};q.RequestType9=ro;var no=class extends Q{constructor(t,i=ae.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.NotificationType=no;var io=class extends Q{constructor(t){super(t,0)}};q.NotificationType0=io;var oo=class extends Q{constructor(t,i=ae.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.NotificationType1=oo;var so=class extends Q{constructor(t){super(t,2)}};q.NotificationType2=so;var ao=class extends Q{constructor(t){super(t,3)}};q.NotificationType3=ao;var co=class extends Q{constructor(t){super(t,4)}};q.NotificationType4=co;var uo=class extends Q{constructor(t){super(t,5)}};q.NotificationType5=uo;var lo=class extends Q{constructor(t){super(t,6)}};q.NotificationType6=lo;var fo=class extends Q{constructor(t){super(t,7)}};q.NotificationType7=fo;var po=class extends Q{constructor(t){super(t,8)}};q.NotificationType8=po;var ho=class extends Q{constructor(t){super(t,9)}};q.NotificationType9=ho;var ma;(function(e){function t(r){let o=r;return o&&st.string(o.method)&&(st.string(o.id)||st.number(o.id))}e.isRequest=t;function i(r){let o=r;return o&&st.string(o.method)&&r.id===void 0}e.isNotification=i;function n(r){let o=r;return o&&(o.result!==void 0||!!o.error)&&(st.string(o.id)||st.number(o.id)||o.id===null)}e.isResponse=n})(ma=q.Message||(q.Message={}))});var Yr=E(ze=>{"use strict";var go;Object.defineProperty(ze,"__esModule",{value:!0});ze.LRUCache=ze.LinkedMap=ze.Touch=void 0;var ge;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(ge=ze.Touch||(ze.Touch={}));var Zr=class{constructor(){this[go]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,i=ge.None){let n=this._map.get(t);if(!!n)return i!==ge.None&&this.touch(n,i),n.value}set(t,i,n=ge.None){let r=this._map.get(t);if(r)r.value=i,n!==ge.None&&this.touch(r,n);else{switch(r={key:t,value:i,next:void 0,previous:void 0},n){case ge.None:this.addItemLast(r);break;case ge.First:this.addItemFirst(r);break;case ge.Last:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(t,r),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let i=this._map.get(t);if(!!i)return this._map.delete(t),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,i){let n=this._state,r=this._head;for(;r;){if(i?t.bind(i)(r.value,r.key,this):t(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let t=this._state,i=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.key,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,i=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.value,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,i=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:[i.key,i.value],done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return n}[(go=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let i=this._head,n=this.size;for(;i&&n>t;)this._map.delete(i.key),i=i.next,n--;this._head=i,this._size=n,i&&(i.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let i=t.next,n=t.previous;if(!i||!n)throw new Error("Invalid list");i.previous=n,n.next=i}t.next=void 0,t.previous=void 0,this._state++}touch(t,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==ge.First&&i!==ge.Last)){if(i===ge.First){if(t===this._head)return;let n=t.next,r=t.previous;t===this._tail?(r.next=void 0,this._tail=r):(n.previous=r,r.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(i===ge.Last){if(t===this._tail)return;let n=t.next,r=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=r,r.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((i,n)=>{t.push([n,i])}),t}fromJSON(t){this.clear();for(let[i,n]of t)this.set(i,n)}};ze.LinkedMap=Zr;var mo=class extends Zr{constructor(t,i=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,i=ge.AsNew){return super.get(t,i)}peek(t){return super.get(t,ge.None)}set(t,i){return super.set(t,i,ge.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ze.LRUCache=mo});var _t=E(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.Emitter=at.Event=void 0;var ya=He(),va;(function(e){let t={dispose(){}};e.None=function(){return t}})(va=at.Event||(at.Event={}));var yo=class{add(t,i=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(i),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,i)})}remove(t,i=null){if(!this._callbacks)return;let n=!1;for(let r=0,o=this._callbacks.length;r<o;r++)if(this._callbacks[r]===t)if(this._contexts[r]===i){this._callbacks.splice(r,1),this._contexts.splice(r,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let i=[],n=this._callbacks.slice(0),r=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{i.push(n[o].apply(r[o],t))}catch(l){(0,ya.default)().console.error(l)}return i}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Ut=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,i,n)=>{this._callbacks||(this._callbacks=new yo),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,i);let r={dispose:()=>{!this._callbacks||(this._callbacks.remove(t,i),r.dispose=Ut._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};at.Emitter=Ut;Ut._noop=function(){}});var rn=E(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.CancellationTokenSource=ct.CancellationToken=void 0;var ba=He(),Ra=Rt(),Kr=_t(),en;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Kr.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Kr.Event.None});function t(i){let n=i;return n&&(n===e.None||n===e.Cancelled||Ra.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(en=ct.CancellationToken||(ct.CancellationToken={}));var _a=Object.freeze(function(e,t){let i=(0,ba.default)().timer.setTimeout(e.bind(t),0);return{dispose(){i.dispose()}}}),tn=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?_a:(this._emitter||(this._emitter=new Kr.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},vo=class{get token(){return this._token||(this._token=new tn),this._token}cancel(){this._token?this._token.cancel():this._token=en.Cancelled}dispose(){this._token?this._token instanceof tn&&this._token.dispose():this._token=en.None}};ct.CancellationTokenSource=vo});var Ro=E(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.ReadableStreamMessageReader=Ve.AbstractMessageReader=Ve.MessageReader=void 0;var nn=He(),Dt=Rt(),on=_t(),Da;(function(e){function t(i){let n=i;return n&&Dt.func(n.listen)&&Dt.func(n.dispose)&&Dt.func(n.onError)&&Dt.func(n.onClose)&&Dt.func(n.onPartialMessage)}e.is=t})(Da=Ve.MessageReader||(Ve.MessageReader={}));var sn=class{constructor(){this.errorEmitter=new on.Emitter,this.closeEmitter=new on.Emitter,this.partialMessageEmitter=new on.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Dt.string(t.message)?t.message:"unknown"}`)}};Ve.AbstractMessageReader=sn;var an;(function(e){function t(i){var f;let n,r,o,a=new Map,l,d=new Map;if(i===void 0||typeof i=="string")n=i!=null?i:"utf-8";else{if(n=(f=i.charset)!=null?f:"utf-8",i.contentDecoder!==void 0&&(o=i.contentDecoder,a.set(o.name,o)),i.contentDecoders!==void 0)for(let v of i.contentDecoders)a.set(v.name,v);if(i.contentTypeDecoder!==void 0&&(l=i.contentTypeDecoder,d.set(l.name,l)),i.contentTypeDecoders!==void 0)for(let v of i.contentTypeDecoders)d.set(v.name,v)}return l===void 0&&(l=(0,nn.default)().applicationJson.decoder,d.set(l.name,l)),{charset:n,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:d}}e.fromOptions=t})(an||(an={}));var bo=class extends sn{constructor(t,i){super();this.readable=t,this.options=an.fromOptions(i),this.buffer=(0,nn.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let i=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),i}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders();if(!r)return;let o=r.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let a=parseInt(o);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let i=this.buffer.tryReadBody(this.nextMessageLength);if(i===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(i):n=Promise.resolve(i),n.then(r=>{this.options.contentTypeDecoder.decode(r,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},r=>{this.fireError(r)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,nn.default)().timer.setTimeout((t,i)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:i}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ve.ReadableStreamMessageReader=bo});var Do=E(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.Semaphore=void 0;var Ta=He(),_o=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((i,n)=>{this._waiting.push({thunk:t,resolve:i,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ta.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let i=t.thunk();i instanceof Promise?i.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(i),this.runNext())}catch(i){this._active--,t.reject(i),this.runNext()}}};mr.Semaphore=_o});var So=E(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.WriteableStreamMessageWriter=Be.AbstractMessageWriter=Be.MessageWriter=void 0;var To=He(),$t=Rt(),wa=Do(),wo=_t(),Pa="Content-Length: ",Po=`\r
`,Ca;(function(e){function t(i){let n=i;return n&&$t.func(n.dispose)&&$t.func(n.onClose)&&$t.func(n.onError)&&$t.func(n.write)}e.is=t})(Ca=Be.MessageWriter||(Be.MessageWriter={}));var cn=class{constructor(){this.errorEmitter=new wo.Emitter,this.closeEmitter=new wo.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,i,n){this.errorEmitter.fire([this.asError(t),i,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${$t.string(t.message)?t.message:"unknown"}`)}};Be.AbstractMessageWriter=cn;var un;(function(e){function t(i){var n,r;return i===void 0||typeof i=="string"?{charset:i!=null?i:"utf-8",contentTypeEncoder:(0,To.default)().applicationJson.encoder}:{charset:(n=i.charset)!=null?n:"utf-8",contentEncoder:i.contentEncoder,contentTypeEncoder:(r=i.contentTypeEncoder)!=null?r:(0,To.default)().applicationJson.encoder}}e.fromOptions=t})(un||(un={}));var Co=class extends cn{constructor(t,i){super();this.writable=t,this.options=un.fromOptions(i),this.errorCount=0,this.writeSemaphore=new wa.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let r=[];return r.push(Pa,n.byteLength.toString(),Po),r.push(Po),this.doWrite(t,r,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,i,n){try{return await this.writable.write(i.join(""),"ascii"),this.writable.write(n)}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,i){this.errorCount++,this.fireError(t,i,this.errorCount)}end(){this.writable.end()}};Be.WriteableStreamMessageWriter=Co});var Mo=E(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.createMessageConnection=x.ConnectionOptions=x.CancellationStrategy=x.CancellationSenderStrategy=x.CancellationReceiverStrategy=x.ConnectionStrategy=x.ConnectionError=x.ConnectionErrors=x.LogTraceNotification=x.SetTraceNotification=x.TraceFormat=x.TraceValues=x.Trace=x.NullLogger=x.ProgressType=x.ProgressToken=void 0;var qo=He(),ie=Rt(),k=Gr(),xo=Yr(),Ht=_t(),dn=rn(),zt;(function(e){e.type=new k.NotificationType("$/cancelRequest")})(zt||(zt={}));var ko;(function(e){function t(i){return typeof i=="string"||typeof i=="number"}e.is=t})(ko=x.ProgressToken||(x.ProgressToken={}));var Vt;(function(e){e.type=new k.NotificationType("$/progress")})(Vt||(Vt={}));var No=class{constructor(){}};x.ProgressType=No;var ln;(function(e){function t(i){return ie.func(i)}e.is=t})(ln||(ln={}));x.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var $;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})($=x.Trace||(x.Trace={}));var Sa;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Sa=x.TraceValues||(x.TraceValues={}));(function(e){function t(n){if(!ie.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function i(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=i})($=x.Trace||(x.Trace={}));var Se;(function(e){e.Text="text",e.JSON="json"})(Se=x.TraceFormat||(x.TraceFormat={}));(function(e){function t(i){return ie.string(i)?(i=i.toLowerCase(),i==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(Se=x.TraceFormat||(x.TraceFormat={}));var Oo;(function(e){e.type=new k.NotificationType("$/setTrace")})(Oo=x.SetTraceNotification||(x.SetTraceNotification={}));var fn;(function(e){e.type=new k.NotificationType("$/logTrace")})(fn=x.LogTraceNotification||(x.LogTraceNotification={}));var yr;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(yr=x.ConnectionErrors||(x.ConnectionErrors={}));var ut=class extends Error{constructor(t,i){super(i);this.code=t,Object.setPrototypeOf(this,ut.prototype)}};x.ConnectionError=ut;var Eo;(function(e){function t(i){let n=i;return n&&ie.func(n.cancelUndispatched)}e.is=t})(Eo=x.ConnectionStrategy||(x.ConnectionStrategy={}));var pn;(function(e){e.Message=Object.freeze({createCancellationTokenSource(i){return new dn.CancellationTokenSource}});function t(i){let n=i;return n&&ie.func(n.createCancellationTokenSource)}e.is=t})(pn=x.CancellationReceiverStrategy||(x.CancellationReceiverStrategy={}));var hn;(function(e){e.Message=Object.freeze({sendCancellation(i,n){return i.sendNotification(zt.type,{id:n})},cleanup(i){}});function t(i){let n=i;return n&&ie.func(n.sendCancellation)&&ie.func(n.cleanup)}e.is=t})(hn=x.CancellationSenderStrategy||(x.CancellationSenderStrategy={}));var gn;(function(e){e.Message=Object.freeze({receiver:pn.Message,sender:hn.Message});function t(i){let n=i;return n&&pn.is(n.receiver)&&hn.is(n.sender)}e.is=t})(gn=x.CancellationStrategy||(x.CancellationStrategy={}));var qa;(function(e){function t(i){let n=i;return n&&(gn.is(n.cancellationStrategy)||Eo.is(n.connectionStrategy))}e.is=t})(qa=x.ConnectionOptions||(x.ConnectionOptions={}));var qe;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(qe||(qe={}));function xa(e,t,i,n){let r=i!==void 0?i:x.NullLogger,o=0,a=0,l=0,d="2.0",f,v=new Map,y,P=new Map,p=new Map,w,C=new xo.LinkedMap,A=new Map,M=new Set,W=new Map,L=$.Off,ve=Se.Text,G,be=qe.New,je=new Ht.Emitter,Re=new Ht.Emitter,Ue=new Ht.Emitter,rt=new Ht.Emitter,ht=new Ht.Emitter,nt=n&&n.cancellationStrategy?n.cancellationStrategy:gn.Message;function At(c){if(c===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+c.toString()}function $e(c){return c===null?"res-unknown-"+(++l).toString():"res-"+c.toString()}function gt(){return"not-"+(++a).toString()}function b(c,m){k.Message.isRequest(m)?c.set(At(m.id),m):k.Message.isResponse(m)?c.set($e(m.id),m):c.set(gt(),m)}function h(c){}function R(){return be===qe.Listening}function D(){return be===qe.Closed}function O(){return be===qe.Disposed}function j(){(be===qe.New||be===qe.Listening)&&(be=qe.Closed,Re.fire(void 0))}function N(c){je.fire([c,void 0,void 0])}function _e(c){je.fire(c)}e.onClose(j),e.onError(N),t.onClose(j),t.onError(_e);function pe(){w||C.size===0||(w=(0,qo.default)().timer.setImmediate(()=>{w=void 0,Pe()}))}function Pe(){if(C.size===0)return;let c=C.shift();try{k.Message.isRequest(c)?Qe(c):k.Message.isNotification(c)?Vs(c):k.Message.isResponse(c)?zs(c):Bs(c)}finally{pe()}}let mt=c=>{try{if(k.Message.isNotification(c)&&c.method===zt.type.method){let m=c.params.id,T=At(m),S=C.get(T);if(k.Message.isRequest(S)){let X=n==null?void 0:n.connectionStrategy,H=X&&X.cancelUndispatched?X.cancelUndispatched(S,h):h(S);if(H&&(H.error!==void 0||H.result!==void 0)){C.delete(T),W.delete(m),H.id=S.id,dr(H,c.method,Date.now()),t.write(H).catch(()=>r.error("Sending response for canceled message failed."));return}}let J=W.get(m);if(J!==void 0){J.cancel(),Ir(c);return}else M.add(m)}b(C,c)}finally{pe()}};function Qe(c){var se;if(O())return;function m(U,K,z){let te={jsonrpc:d,id:c.id};U instanceof k.ResponseError?te.error=U.toJson():te.result=U===void 0?null:U,dr(te,K,z),t.write(te).catch(()=>r.error("Sending response failed."))}function T(U,K,z){let te={jsonrpc:d,id:c.id,error:U.toJson()};dr(te,K,z),t.write(te).catch(()=>r.error("Sending response failed."))}function S(U,K,z){U===void 0&&(U=null);let te={jsonrpc:d,id:c.id,result:U};dr(te,K,z),t.write(te).catch(()=>r.error("Sending response failed."))}Qs(c);let J=v.get(c.method),X,H;J&&(X=J.type,H=J.handler);let oe=Date.now();if(H||f){let U=(se=c.id)!=null?se:String(Date.now()),K=nt.receiver.createCancellationTokenSource(U);c.id!==null&&M.has(c.id)&&K.cancel(),c.id!==null&&W.set(U,K);try{let z;if(H)if(c.params===void 0){if(X!==void 0&&X.numberOfParams!==0){T(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${c.method} defines ${X.numberOfParams} params but received none.`),c.method,oe);return}z=H(K.token)}else if(Array.isArray(c.params)){if(X!==void 0&&X.parameterStructures===k.ParameterStructures.byName){T(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${c.method} defines parameters by name but received parameters by position`),c.method,oe);return}z=H(...c.params,K.token)}else{if(X!==void 0&&X.parameterStructures===k.ParameterStructures.byPosition){T(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${c.method} defines parameters by position but received parameters by name`),c.method,oe);return}z=H(c.params,K.token)}else f&&(z=f(c.method,c.params,K.token));let te=z;z?te.then?te.then(he=>{W.delete(U),m(he,c.method,oe)},he=>{W.delete(U),he instanceof k.ResponseError?T(he,c.method,oe):he&&ie.string(he.message)?T(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed with message: ${he.message}`),c.method,oe):T(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed unexpectedly without providing any details.`),c.method,oe)}):(W.delete(U),m(z,c.method,oe)):(W.delete(U),S(z,c.method,oe))}catch(z){W.delete(U),z instanceof k.ResponseError?m(z,c.method,oe):z&&ie.string(z.message)?T(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed with message: ${z.message}`),c.method,oe):T(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed unexpectedly without providing any details.`),c.method,oe)}}else T(new k.ResponseError(k.ErrorCodes.MethodNotFound,`Unhandled method ${c.method}`),c.method,oe)}function zs(c){if(!O())if(c.id===null)c.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(c.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let m=c.id,T=A.get(m);if(Gs(c,T),T!==void 0){A.delete(m);try{if(c.error){let S=c.error;T.reject(new k.ResponseError(S.code,S.message,S.data))}else if(c.result!==void 0)T.resolve(c.result);else throw new Error("Should never happen.")}catch(S){S.message?r.error(`Response handler '${T.method}' failed with message: ${S.message}`):r.error(`Response handler '${T.method}' failed unexpectedly.`)}}}}function Vs(c){if(O())return;let m,T;if(c.method===zt.type.method){let S=c.params.id;M.delete(S),Ir(c);return}else{let S=P.get(c.method);S&&(T=S.handler,m=S.type)}if(T||y)try{if(Ir(c),T)if(c.params===void 0)m!==void 0&&m.numberOfParams!==0&&m.parameterStructures!==k.ParameterStructures.byName&&r.error(`Notification ${c.method} defines ${m.numberOfParams} params but received none.`),T();else if(Array.isArray(c.params)){let S=c.params;c.method===Vt.type.method&&S.length===2&&ko.is(S[0])?T({token:S[0],value:S[1]}):(m!==void 0&&(m.parameterStructures===k.ParameterStructures.byName&&r.error(`Notification ${c.method} defines parameters by name but received parameters by position`),m.numberOfParams!==c.params.length&&r.error(`Notification ${c.method} defines ${m.numberOfParams} params but received ${S.length} arguments`)),T(...S))}else m!==void 0&&m.parameterStructures===k.ParameterStructures.byPosition&&r.error(`Notification ${c.method} defines parameters by position but received parameters by name`),T(c.params);else y&&y(c.method,c.params)}catch(S){S.message?r.error(`Notification handler '${c.method}' failed with message: ${S.message}`):r.error(`Notification handler '${c.method}' failed unexpectedly.`)}else Ue.fire(c)}function Bs(c){if(!c){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(c,null,4)}`);let m=c;if(ie.string(m.id)||ie.number(m.id)){let T=m.id,S=A.get(T);S&&S.reject(new Error("The received response has neither a result nor an error property."))}}function Ge(c){if(c!=null)switch(L){case $.Verbose:return JSON.stringify(c,null,4);case $.Compact:return JSON.stringify(c);default:return}}function Js(c){if(!(L===$.Off||!G))if(ve===Se.Text){let m;(L===$.Verbose||L===$.Compact)&&c.params&&(m=`Params: ${Ge(c.params)}

`),G.log(`Sending request '${c.method} - (${c.id})'.`,m)}else yt("send-request",c)}function Xs(c){if(!(L===$.Off||!G))if(ve===Se.Text){let m;(L===$.Verbose||L===$.Compact)&&(c.params?m=`Params: ${Ge(c.params)}

`:m=`No parameters provided.

`),G.log(`Sending notification '${c.method}'.`,m)}else yt("send-notification",c)}function dr(c,m,T){if(!(L===$.Off||!G))if(ve===Se.Text){let S;(L===$.Verbose||L===$.Compact)&&(c.error&&c.error.data?S=`Error data: ${Ge(c.error.data)}

`:c.result?S=`Result: ${Ge(c.result)}

`:c.error===void 0&&(S=`No result returned.

`)),G.log(`Sending response '${m} - (${c.id})'. Processing request took ${Date.now()-T}ms`,S)}else yt("send-response",c)}function Qs(c){if(!(L===$.Off||!G))if(ve===Se.Text){let m;(L===$.Verbose||L===$.Compact)&&c.params&&(m=`Params: ${Ge(c.params)}

`),G.log(`Received request '${c.method} - (${c.id})'.`,m)}else yt("receive-request",c)}function Ir(c){if(!(L===$.Off||!G||c.method===fn.type.method))if(ve===Se.Text){let m;(L===$.Verbose||L===$.Compact)&&(c.params?m=`Params: ${Ge(c.params)}

`:m=`No parameters provided.

`),G.log(`Received notification '${c.method}'.`,m)}else yt("receive-notification",c)}function Gs(c,m){if(!(L===$.Off||!G))if(ve===Se.Text){let T;if((L===$.Verbose||L===$.Compact)&&(c.error&&c.error.data?T=`Error data: ${Ge(c.error.data)}

`:c.result?T=`Result: ${Ge(c.result)}

`:c.error===void 0&&(T=`No result returned.

`)),m){let S=c.error?` Request failed: ${c.error.message} (${c.error.code}).`:"";G.log(`Received response '${m.method} - (${c.id})' in ${Date.now()-m.timerStart}ms.${S}`,T)}else G.log(`Received response ${c.id} without active response promise.`,T)}else yt("receive-response",c)}function yt(c,m){if(!G||L===$.Off)return;let T={isLSPMessage:!0,type:c,message:m,timestamp:Date.now()};G.log(T)}function Lt(){if(D())throw new ut(yr.Closed,"Connection is closed.");if(O())throw new ut(yr.Disposed,"Connection is disposed.")}function Zs(){if(R())throw new ut(yr.AlreadyListening,"Connection is already listening")}function Ys(){if(!R())throw new Error("Call listen() first.")}function It(c){return c===void 0?null:c}function wi(c){if(c!==null)return c}function Pi(c){return c!=null&&!Array.isArray(c)&&typeof c=="object"}function Fr(c,m){switch(c){case k.ParameterStructures.auto:return Pi(m)?wi(m):[It(m)];case k.ParameterStructures.byName:if(!Pi(m))throw new Error("Received parameters by name but param is not an object literal.");return wi(m);case k.ParameterStructures.byPosition:return[It(m)];default:throw new Error(`Unknown parameter structure ${c.toString()}`)}}function Ci(c,m){let T,S=c.numberOfParams;switch(S){case 0:T=void 0;break;case 1:T=Fr(c.parameterStructures,m[0]);break;default:T=[];for(let J=0;J<m.length&&J<S;J++)T.push(It(m[J]));if(m.length<S)for(let J=m.length;J<S;J++)T.push(null);break}return T}let vt={sendNotification:(c,...m)=>{Lt();let T,S;if(ie.string(c)){T=c;let X=m[0],H=0,oe=k.ParameterStructures.auto;k.ParameterStructures.is(X)&&(H=1,oe=X);let se=m.length,U=se-H;switch(U){case 0:S=void 0;break;case 1:S=Fr(oe,m[H]);break;default:if(oe===k.ParameterStructures.byName)throw new Error(`Received ${U} parameters for 'by Name' notification parameter structure.`);S=m.slice(H,se).map(K=>It(K));break}}else{let X=m;T=c.method,S=Ci(c,X)}let J={jsonrpc:d,method:T,params:S};return Xs(J),t.write(J).catch(()=>r.error("Sending notification failed."))},onNotification:(c,m)=>{Lt();let T;return ie.func(c)?y=c:m&&(ie.string(c)?(T=c,P.set(c,{type:void 0,handler:m})):(T=c.method,P.set(c.method,{type:c,handler:m}))),{dispose:()=>{T!==void 0?P.delete(T):y=void 0}}},onProgress:(c,m,T)=>{if(p.has(m))throw new Error(`Progress handler for token ${m} already registered`);return p.set(m,T),{dispose:()=>{p.delete(m)}}},sendProgress:(c,m,T)=>vt.sendNotification(Vt.type,{token:m,value:T}),onUnhandledProgress:rt.event,sendRequest:(c,...m)=>{Lt(),Ys();let T,S,J;if(ie.string(c)){T=c;let se=m[0],U=m[m.length-1],K=0,z=k.ParameterStructures.auto;k.ParameterStructures.is(se)&&(K=1,z=se);let te=m.length;dn.CancellationToken.is(U)&&(te=te-1,J=U);let he=te-K;switch(he){case 0:S=void 0;break;case 1:S=Fr(z,m[K]);break;default:if(z===k.ParameterStructures.byName)throw new Error(`Received ${he} parameters for 'by Name' request parameter structure.`);S=m.slice(K,te).map(Ze=>It(Ze));break}}else{let se=m;T=c.method,S=Ci(c,se);let U=c.numberOfParams;J=dn.CancellationToken.is(se[U])?se[U]:void 0}let X=o++,H;return J&&(H=J.onCancellationRequested(()=>{let se=nt.sender.sendCancellation(vt,X);return se===void 0?(r.log(`Received no promise from cancellation strategy when cancelling id ${X}`),Promise.resolve()):se.catch(()=>{r.log(`Sending cancellation messages for id ${X} failed`)})})),new Promise((se,U)=>{let K={jsonrpc:d,id:X,method:T,params:S},z=Ze=>{se(Ze),nt.sender.cleanup(X),H==null||H.dispose()},te=Ze=>{U(Ze),nt.sender.cleanup(X),H==null||H.dispose()},he={method:T,timerStart:Date.now(),resolve:z,reject:te};Js(K);try{t.write(K).catch(()=>r.error("Sending request failed."))}catch(Ze){he.reject(new k.ResponseError(k.ErrorCodes.MessageWriteError,Ze.message?Ze.message:"Unknown reason")),he=null}he&&A.set(X,he)})},onRequest:(c,m)=>{Lt();let T=null;return ln.is(c)?(T=void 0,f=c):ie.string(c)?(T=null,m!==void 0&&(T=c,v.set(c,{handler:m,type:void 0}))):m!==void 0&&(T=c.method,v.set(c.method,{type:c,handler:m})),{dispose:()=>{T!==null&&(T!==void 0?v.delete(T):f=void 0)}}},hasPendingResponse:()=>A.size>0,trace:async(c,m,T)=>{let S=!1,J=Se.Text;T!==void 0&&(ie.boolean(T)?S=T:(S=T.sendNotification||!1,J=T.traceFormat||Se.Text)),L=c,ve=J,L===$.Off?G=void 0:G=m,S&&!D()&&!O()&&await vt.sendNotification(Oo.type,{value:$.toString(c)})},onError:je.event,onClose:Re.event,onUnhandledNotification:Ue.event,onDispose:ht.event,end:()=>{t.end()},dispose:()=>{if(O())return;be=qe.Disposed,ht.fire(void 0);let c=new k.ResponseError(k.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let m of A.values())m.reject(c);A=new Map,W=new Map,M=new Set,C=new xo.LinkedMap,ie.func(t.dispose)&&t.dispose(),ie.func(e.dispose)&&e.dispose()},listen:()=>{Lt(),Zs(),be=qe.Listening,e.listen(mt)},inspect:()=>{(0,qo.default)().console.log("inspect")}};return vt.onNotification(fn.type,c=>{if(L===$.Off||!G)return;let m=L===$.Verbose||L===$.Compact;G.log(c.message,m?c.verbose:void 0)}),vt.onNotification(Vt.type,c=>{let m=p.get(c.token);m?m(c.value):rt.fire(c)}),vt}x.createMessageConnection=xa});var bn=E(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.TraceFormat=g.TraceValues=g.Trace=g.ProgressType=g.ProgressToken=g.createMessageConnection=g.NullLogger=g.ConnectionOptions=g.ConnectionStrategy=g.WriteableStreamMessageWriter=g.AbstractMessageWriter=g.MessageWriter=g.ReadableStreamMessageReader=g.AbstractMessageReader=g.MessageReader=g.CancellationToken=g.CancellationTokenSource=g.Emitter=g.Event=g.Disposable=g.LRUCache=g.Touch=g.LinkedMap=g.ParameterStructures=g.NotificationType9=g.NotificationType8=g.NotificationType7=g.NotificationType6=g.NotificationType5=g.NotificationType4=g.NotificationType3=g.NotificationType2=g.NotificationType1=g.NotificationType0=g.NotificationType=g.ErrorCodes=g.ResponseError=g.RequestType9=g.RequestType8=g.RequestType7=g.RequestType6=g.RequestType5=g.RequestType4=g.RequestType3=g.RequestType2=g.RequestType1=g.RequestType0=g.RequestType=g.Message=g.RAL=void 0;g.CancellationStrategy=g.CancellationSenderStrategy=g.CancellationReceiverStrategy=g.ConnectionError=g.ConnectionErrors=g.LogTraceNotification=g.SetTraceNotification=void 0;var V=Gr();Object.defineProperty(g,"Message",{enumerable:!0,get:function(){return V.Message}});Object.defineProperty(g,"RequestType",{enumerable:!0,get:function(){return V.RequestType}});Object.defineProperty(g,"RequestType0",{enumerable:!0,get:function(){return V.RequestType0}});Object.defineProperty(g,"RequestType1",{enumerable:!0,get:function(){return V.RequestType1}});Object.defineProperty(g,"RequestType2",{enumerable:!0,get:function(){return V.RequestType2}});Object.defineProperty(g,"RequestType3",{enumerable:!0,get:function(){return V.RequestType3}});Object.defineProperty(g,"RequestType4",{enumerable:!0,get:function(){return V.RequestType4}});Object.defineProperty(g,"RequestType5",{enumerable:!0,get:function(){return V.RequestType5}});Object.defineProperty(g,"RequestType6",{enumerable:!0,get:function(){return V.RequestType6}});Object.defineProperty(g,"RequestType7",{enumerable:!0,get:function(){return V.RequestType7}});Object.defineProperty(g,"RequestType8",{enumerable:!0,get:function(){return V.RequestType8}});Object.defineProperty(g,"RequestType9",{enumerable:!0,get:function(){return V.RequestType9}});Object.defineProperty(g,"ResponseError",{enumerable:!0,get:function(){return V.ResponseError}});Object.defineProperty(g,"ErrorCodes",{enumerable:!0,get:function(){return V.ErrorCodes}});Object.defineProperty(g,"NotificationType",{enumerable:!0,get:function(){return V.NotificationType}});Object.defineProperty(g,"NotificationType0",{enumerable:!0,get:function(){return V.NotificationType0}});Object.defineProperty(g,"NotificationType1",{enumerable:!0,get:function(){return V.NotificationType1}});Object.defineProperty(g,"NotificationType2",{enumerable:!0,get:function(){return V.NotificationType2}});Object.defineProperty(g,"NotificationType3",{enumerable:!0,get:function(){return V.NotificationType3}});Object.defineProperty(g,"NotificationType4",{enumerable:!0,get:function(){return V.NotificationType4}});Object.defineProperty(g,"NotificationType5",{enumerable:!0,get:function(){return V.NotificationType5}});Object.defineProperty(g,"NotificationType6",{enumerable:!0,get:function(){return V.NotificationType6}});Object.defineProperty(g,"NotificationType7",{enumerable:!0,get:function(){return V.NotificationType7}});Object.defineProperty(g,"NotificationType8",{enumerable:!0,get:function(){return V.NotificationType8}});Object.defineProperty(g,"NotificationType9",{enumerable:!0,get:function(){return V.NotificationType9}});Object.defineProperty(g,"ParameterStructures",{enumerable:!0,get:function(){return V.ParameterStructures}});var mn=Yr();Object.defineProperty(g,"LinkedMap",{enumerable:!0,get:function(){return mn.LinkedMap}});Object.defineProperty(g,"LRUCache",{enumerable:!0,get:function(){return mn.LRUCache}});Object.defineProperty(g,"Touch",{enumerable:!0,get:function(){return mn.Touch}});var ka=Jr();Object.defineProperty(g,"Disposable",{enumerable:!0,get:function(){return ka.Disposable}});var jo=_t();Object.defineProperty(g,"Event",{enumerable:!0,get:function(){return jo.Event}});Object.defineProperty(g,"Emitter",{enumerable:!0,get:function(){return jo.Emitter}});var Ao=rn();Object.defineProperty(g,"CancellationTokenSource",{enumerable:!0,get:function(){return Ao.CancellationTokenSource}});Object.defineProperty(g,"CancellationToken",{enumerable:!0,get:function(){return Ao.CancellationToken}});var yn=Ro();Object.defineProperty(g,"MessageReader",{enumerable:!0,get:function(){return yn.MessageReader}});Object.defineProperty(g,"AbstractMessageReader",{enumerable:!0,get:function(){return yn.AbstractMessageReader}});Object.defineProperty(g,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return yn.ReadableStreamMessageReader}});var vn=So();Object.defineProperty(g,"MessageWriter",{enumerable:!0,get:function(){return vn.MessageWriter}});Object.defineProperty(g,"AbstractMessageWriter",{enumerable:!0,get:function(){return vn.AbstractMessageWriter}});Object.defineProperty(g,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return vn.WriteableStreamMessageWriter}});var fe=Mo();Object.defineProperty(g,"ConnectionStrategy",{enumerable:!0,get:function(){return fe.ConnectionStrategy}});Object.defineProperty(g,"ConnectionOptions",{enumerable:!0,get:function(){return fe.ConnectionOptions}});Object.defineProperty(g,"NullLogger",{enumerable:!0,get:function(){return fe.NullLogger}});Object.defineProperty(g,"createMessageConnection",{enumerable:!0,get:function(){return fe.createMessageConnection}});Object.defineProperty(g,"ProgressToken",{enumerable:!0,get:function(){return fe.ProgressToken}});Object.defineProperty(g,"ProgressType",{enumerable:!0,get:function(){return fe.ProgressType}});Object.defineProperty(g,"Trace",{enumerable:!0,get:function(){return fe.Trace}});Object.defineProperty(g,"TraceValues",{enumerable:!0,get:function(){return fe.TraceValues}});Object.defineProperty(g,"TraceFormat",{enumerable:!0,get:function(){return fe.TraceFormat}});Object.defineProperty(g,"SetTraceNotification",{enumerable:!0,get:function(){return fe.SetTraceNotification}});Object.defineProperty(g,"LogTraceNotification",{enumerable:!0,get:function(){return fe.LogTraceNotification}});Object.defineProperty(g,"ConnectionErrors",{enumerable:!0,get:function(){return fe.ConnectionErrors}});Object.defineProperty(g,"ConnectionError",{enumerable:!0,get:function(){return fe.ConnectionError}});Object.defineProperty(g,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return fe.CancellationReceiverStrategy}});Object.defineProperty(g,"CancellationSenderStrategy",{enumerable:!0,get:function(){return fe.CancellationSenderStrategy}});Object.defineProperty(g,"CancellationStrategy",{enumerable:!0,get:function(){return fe.CancellationStrategy}});var Na=He();g.RAL=Na.default});var dt=E(F=>{"use strict";var Oa=F&&F.__createBinding||(Object.create?function(e,t,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){n===void 0&&(n=i),e[n]=t[i]}),Ea=F&&F.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Oa(t,e,i)};Object.defineProperty(F,"__esModule",{value:!0});F.createMessageConnection=F.createServerSocketTransport=F.createClientSocketTransport=F.createServerPipeTransport=F.createClientPipeTransport=F.generateRandomPipeName=F.StreamMessageWriter=F.StreamMessageReader=F.SocketMessageWriter=F.SocketMessageReader=F.IPCMessageWriter=F.IPCMessageReader=void 0;var Tt=$i();Tt.default.install();var Ae=bn(),Lo=require("path"),Ma=require("os"),ja=require("crypto"),vr=require("net");Ea(bn(),F);var Io=class extends Ae.AbstractMessageReader{constructor(t){super();this.process=t;let i=this.process;i.on("error",n=>this.fireError(n)),i.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Ae.Disposable.create(()=>this.process.off("message",t))}};F.IPCMessageReader=Io;var Fo=class extends Ae.AbstractMessageWriter{constructor(t){super();this.process=t,this.errorCount=0;let i=this.process;i.on("error",n=>this.fireError(n)),i.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,i=>{i?(this.errorCount++,this.handleError(i,t)):this.errorCount=0}),Promise.resolve()}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,i){this.errorCount++,this.fireError(t,i,this.errorCount)}end(){}};F.IPCMessageWriter=Fo;var wt=class extends Ae.ReadableStreamMessageReader{constructor(t,i="utf-8"){super((0,Tt.default)().stream.asReadableStream(t),i)}};F.SocketMessageReader=wt;var Pt=class extends Ae.WriteableStreamMessageWriter{constructor(t,i){super((0,Tt.default)().stream.asWritableStream(t),i);this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};F.SocketMessageWriter=Pt;var Rn=class extends Ae.ReadableStreamMessageReader{constructor(t,i){super((0,Tt.default)().stream.asReadableStream(t),i)}};F.StreamMessageReader=Rn;var _n=class extends Ae.WriteableStreamMessageWriter{constructor(t,i){super((0,Tt.default)().stream.asWritableStream(t),i)}};F.StreamMessageWriter=_n;var Wo=process.env.XDG_RUNTIME_DIR,Aa=new Map([["linux",107],["darwin",103]]);function La(){let e=(0,ja.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Wo?t=Lo.join(Wo,`vscode-ipc-${e}.sock`):t=Lo.join(Ma.tmpdir(),`vscode-${e}.sock`);let i=Aa.get(process.platform);return i!==void 0&&t.length>=i&&(0,Tt.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${i} characters.`),t}F.generateRandomPipeName=La;function Ia(e,t="utf-8"){let i,n=new Promise((r,o)=>{i=r});return new Promise((r,o)=>{let a=(0,vr.createServer)(l=>{a.close(),i([new wt(l,t),new Pt(l,t)])});a.on("error",o),a.listen(e,()=>{a.removeListener("error",o),r({onConnected:()=>n})})})}F.createClientPipeTransport=Ia;function Fa(e,t="utf-8"){let i=(0,vr.createConnection)(e);return[new wt(i,t),new Pt(i,t)]}F.createServerPipeTransport=Fa;function Wa(e,t="utf-8"){let i,n=new Promise((r,o)=>{i=r});return new Promise((r,o)=>{let a=(0,vr.createServer)(l=>{a.close(),i([new wt(l,t),new Pt(l,t)])});a.on("error",o),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",o),r({onConnected:()=>n})})})}F.createClientSocketTransport=Wa;function Ua(e,t="utf-8"){let i=(0,vr.createConnection)(e,"127.0.0.1");return[new wt(i,t),new Pt(i,t)]}F.createServerSocketTransport=Ua;function $a(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function Ha(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function za(e,t,i,n){i||(i=Ae.NullLogger);let r=$a(e)?new Rn(e):e,o=Ha(t)?new _n(t):t;return Ae.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Ae.createMessageConnection)(r,o,i,n)}F.createMessageConnection=za});var Dn=E((Kd,Uo)=>{"use strict";Uo.exports=dt()});var Sr={};qi(Sr,{AnnotatedTextEdit:()=>Je,ChangeAnnotation:()=>ft,ChangeAnnotationIdentifier:()=>ce,CodeAction:()=>ri,CodeActionContext:()=>ti,CodeActionKind:()=>ei,CodeActionTriggerKind:()=>Yt,CodeDescription:()=>On,CodeLens:()=>ni,Color:()=>Rr,ColorInformation:()=>Cn,ColorPresentation:()=>Sn,Command:()=>lt,CompletionItem:()=>$n,CompletionItemKind:()=>An,CompletionItemLabelDetails:()=>Un,CompletionItemTag:()=>In,CompletionList:()=>Hn,CreateFile:()=>Ct,DeleteFile:()=>qt,Diagnostic:()=>Xt,DiagnosticRelatedInformation:()=>_r,DiagnosticSeverity:()=>kn,DiagnosticTag:()=>Nn,DocumentHighlight:()=>Xn,DocumentHighlightKind:()=>Jn,DocumentLink:()=>oi,DocumentSymbol:()=>Kn,DocumentUri:()=>Tn,EOL:()=>Ba,FoldingRange:()=>xn,FoldingRangeKind:()=>qn,FormattingOptions:()=>ii,Hover:()=>zn,InlayHint:()=>hi,InlayHintKind:()=>Pr,InlayHintLabelPart:()=>Cr,InlineValueContext:()=>pi,InlineValueEvaluatableExpression:()=>fi,InlineValueText:()=>di,InlineValueVariableLookup:()=>li,InsertReplaceEdit:()=>Fn,InsertTextFormat:()=>Ln,InsertTextMode:()=>Wn,Location:()=>Jt,LocationLink:()=>Pn,MarkedString:()=>Zt,MarkupContent:()=>xt,MarkupKind:()=>wr,OptionalVersionedTextDocumentIdentifier:()=>Gt,ParameterInformation:()=>Vn,Position:()=>Te,Range:()=>ee,RenameFile:()=>St,SelectionRange:()=>si,SemanticTokenModifiers:()=>ci,SemanticTokenTypes:()=>ai,SemanticTokens:()=>ui,SignatureInformation:()=>Bn,SymbolInformation:()=>Zn,SymbolKind:()=>Qn,SymbolTag:()=>Gn,TextDocument:()=>mi,TextDocumentEdit:()=>Qt,TextDocumentIdentifier:()=>En,TextDocumentItem:()=>jn,TextEdit:()=>Le,URI:()=>br,VersionedTextDocumentIdentifier:()=>Mn,WorkspaceChange:()=>Va,WorkspaceEdit:()=>Dr,WorkspaceFolder:()=>gi,WorkspaceSymbol:()=>Yn,integer:()=>wn,uinteger:()=>Bt});var Tn,br,wn,Bt,Te,ee,Jt,Pn,Rr,Cn,Sn,qn,xn,_r,kn,Nn,On,Xt,lt,Le,ft,ce,Je,Qt,Ct,St,qt,Dr,Tr,$o,Va,En,Mn,Gt,jn,wr,xt,An,Ln,In,Fn,Wn,Un,$n,Hn,Zt,zn,Vn,Bn,Jn,Xn,Qn,Gn,Zn,Yn,Kn,ei,Yt,ti,ri,ni,ii,oi,si,ai,ci,ui,di,li,fi,pi,Pr,Cr,hi,gi,Ba,mi,Ja,u,qr=ia(()=>{"use strict";(function(e){function t(i){return typeof i=="string"}e.is=t})(Tn||(Tn={}));(function(e){function t(i){return typeof i=="string"}e.is=t})(br||(br={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=t})(wn||(wn={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=t})(Bt||(Bt={}));(function(e){function t(n,r){return n===Number.MAX_VALUE&&(n=Bt.MAX_VALUE),r===Number.MAX_VALUE&&(r=Bt.MAX_VALUE),{line:n,character:r}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.uinteger(r.line)&&u.uinteger(r.character)}e.is=i})(Te||(Te={}));(function(e){function t(n,r,o,a){if(u.uinteger(n)&&u.uinteger(r)&&u.uinteger(o)&&u.uinteger(a))return{start:Te.create(n,r),end:Te.create(o,a)};if(Te.is(n)&&Te.is(r))return{start:n,end:r};throw new Error("Range#create called with invalid arguments[".concat(n,", ").concat(r,", ").concat(o,", ").concat(a,"]"))}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&Te.is(r.start)&&Te.is(r.end)}e.is=i})(ee||(ee={}));(function(e){function t(n,r){return{uri:n,range:r}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&ee.is(r.range)&&(u.string(r.uri)||u.undefined(r.uri))}e.is=i})(Jt||(Jt={}));(function(e){function t(n,r,o,a){return{targetUri:n,targetRange:r,targetSelectionRange:o,originSelectionRange:a}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&ee.is(r.targetRange)&&u.string(r.targetUri)&&ee.is(r.targetSelectionRange)&&(ee.is(r.originSelectionRange)||u.undefined(r.originSelectionRange))}e.is=i})(Pn||(Pn={}));(function(e){function t(n,r,o,a){return{red:n,green:r,blue:o,alpha:a}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.numberRange(r.red,0,1)&&u.numberRange(r.green,0,1)&&u.numberRange(r.blue,0,1)&&u.numberRange(r.alpha,0,1)}e.is=i})(Rr||(Rr={}));(function(e){function t(n,r){return{range:n,color:r}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&ee.is(r.range)&&Rr.is(r.color)}e.is=i})(Cn||(Cn={}));(function(e){function t(n,r,o){return{label:n,textEdit:r,additionalTextEdits:o}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.string(r.label)&&(u.undefined(r.textEdit)||Le.is(r))&&(u.undefined(r.additionalTextEdits)||u.typedArray(r.additionalTextEdits,Le.is))}e.is=i})(Sn||(Sn={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(qn||(qn={}));(function(e){function t(n,r,o,a,l,d){var f={startLine:n,endLine:r};return u.defined(o)&&(f.startCharacter=o),u.defined(a)&&(f.endCharacter=a),u.defined(l)&&(f.kind=l),u.defined(d)&&(f.collapsedText=d),f}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.uinteger(r.startLine)&&u.uinteger(r.startLine)&&(u.undefined(r.startCharacter)||u.uinteger(r.startCharacter))&&(u.undefined(r.endCharacter)||u.uinteger(r.endCharacter))&&(u.undefined(r.kind)||u.string(r.kind))}e.is=i})(xn||(xn={}));(function(e){function t(n,r){return{location:n,message:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&Jt.is(r.location)&&u.string(r.message)}e.is=i})(_r||(_r={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(kn||(kn={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(Nn||(Nn={}));(function(e){function t(i){var n=i;return u.objectLiteral(n)&&u.string(n.href)}e.is=t})(On||(On={}));(function(e){function t(n,r,o,a,l,d){var f={range:n,message:r};return u.defined(o)&&(f.severity=o),u.defined(a)&&(f.code=a),u.defined(l)&&(f.source=l),u.defined(d)&&(f.relatedInformation=d),f}e.create=t;function i(n){var r,o=n;return u.defined(o)&&ee.is(o.range)&&u.string(o.message)&&(u.number(o.severity)||u.undefined(o.severity))&&(u.integer(o.code)||u.string(o.code)||u.undefined(o.code))&&(u.undefined(o.codeDescription)||u.string((r=o.codeDescription)===null||r===void 0?void 0:r.href))&&(u.string(o.source)||u.undefined(o.source))&&(u.undefined(o.relatedInformation)||u.typedArray(o.relatedInformation,_r.is))}e.is=i})(Xt||(Xt={}));(function(e){function t(n,r){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var l={title:n,command:r};return u.defined(o)&&o.length>0&&(l.arguments=o),l}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.title)&&u.string(r.command)}e.is=i})(lt||(lt={}));(function(e){function t(o,a){return{range:o,newText:a}}e.replace=t;function i(o,a){return{range:{start:o,end:o},newText:a}}e.insert=i;function n(o){return{range:o,newText:""}}e.del=n;function r(o){var a=o;return u.objectLiteral(a)&&u.string(a.newText)&&ee.is(a.range)}e.is=r})(Le||(Le={}));(function(e){function t(n,r,o){var a={label:n};return r!==void 0&&(a.needsConfirmation=r),o!==void 0&&(a.description=o),a}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.string(r.label)&&(u.boolean(r.needsConfirmation)||r.needsConfirmation===void 0)&&(u.string(r.description)||r.description===void 0)}e.is=i})(ft||(ft={}));(function(e){function t(i){var n=i;return u.string(n)}e.is=t})(ce||(ce={}));(function(e){function t(o,a,l){return{range:o,newText:a,annotationId:l}}e.replace=t;function i(o,a,l){return{range:{start:o,end:o},newText:a,annotationId:l}}e.insert=i;function n(o,a){return{range:o,newText:"",annotationId:a}}e.del=n;function r(o){var a=o;return Le.is(a)&&(ft.is(a.annotationId)||ce.is(a.annotationId))}e.is=r})(Je||(Je={}));(function(e){function t(n,r){return{textDocument:n,edits:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&Gt.is(r.textDocument)&&Array.isArray(r.edits)}e.is=i})(Qt||(Qt={}));(function(e){function t(n,r,o){var a={kind:"create",uri:n};return r!==void 0&&(r.overwrite!==void 0||r.ignoreIfExists!==void 0)&&(a.options=r),o!==void 0&&(a.annotationId=o),a}e.create=t;function i(n){var r=n;return r&&r.kind==="create"&&u.string(r.uri)&&(r.options===void 0||(r.options.overwrite===void 0||u.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||u.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||ce.is(r.annotationId))}e.is=i})(Ct||(Ct={}));(function(e){function t(n,r,o,a){var l={kind:"rename",oldUri:n,newUri:r};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(l.options=o),a!==void 0&&(l.annotationId=a),l}e.create=t;function i(n){var r=n;return r&&r.kind==="rename"&&u.string(r.oldUri)&&u.string(r.newUri)&&(r.options===void 0||(r.options.overwrite===void 0||u.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||u.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||ce.is(r.annotationId))}e.is=i})(St||(St={}));(function(e){function t(n,r,o){var a={kind:"delete",uri:n};return r!==void 0&&(r.recursive!==void 0||r.ignoreIfNotExists!==void 0)&&(a.options=r),o!==void 0&&(a.annotationId=o),a}e.create=t;function i(n){var r=n;return r&&r.kind==="delete"&&u.string(r.uri)&&(r.options===void 0||(r.options.recursive===void 0||u.boolean(r.options.recursive))&&(r.options.ignoreIfNotExists===void 0||u.boolean(r.options.ignoreIfNotExists)))&&(r.annotationId===void 0||ce.is(r.annotationId))}e.is=i})(qt||(qt={}));(function(e){function t(i){var n=i;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(function(r){return u.string(r.kind)?Ct.is(r)||St.is(r)||qt.is(r):Qt.is(r)}))}e.is=t})(Dr||(Dr={}));Tr=function(){function e(t,i){this.edits=t,this.changeAnnotations=i}return e.prototype.insert=function(t,i,n){var r,o;if(n===void 0?r=Le.insert(t,i):ce.is(n)?(o=n,r=Je.insert(t,i,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),r=Je.insert(t,i,o)),this.edits.push(r),o!==void 0)return o},e.prototype.replace=function(t,i,n){var r,o;if(n===void 0?r=Le.replace(t,i):ce.is(n)?(o=n,r=Je.replace(t,i,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),r=Je.replace(t,i,o)),this.edits.push(r),o!==void 0)return o},e.prototype.delete=function(t,i){var n,r;if(i===void 0?n=Le.del(t):ce.is(i)?(r=i,n=Je.del(t,i)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(i),n=Je.del(t,r)),this.edits.push(n),r!==void 0)return r},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),$o=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,i){var n;if(ce.is(t)?n=t:(n=this.nextId(),i=t),this._annotations[n]!==void 0)throw new Error("Id ".concat(n," is already in use."));if(i===void 0)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=i,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),Va=function(){function e(t){var i=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new $o(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(n){if(Qt.is(n)){var r=new Tr(n.edits,i._changeAnnotations);i._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(function(n){var r=new Tr(t.changes[n]);i._textEditChanges[n]=r})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(Gt.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i={uri:t.uri,version:t.version},n=this._textEditChanges[i.uri];if(!n){var r=[],o={textDocument:i,edits:r};this._workspaceEdit.documentChanges.push(o),n=new Tr(r,this._changeAnnotations),this._textEditChanges[i.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[t];if(!n){var r=[];this._workspaceEdit.changes[t]=r,n=new Tr(r),this._textEditChanges[t]=n}return n}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new $o,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,i,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r;ft.is(i)||ce.is(i)?r=i:n=i;var o,a;if(r===void 0?o=Ct.create(t,n):(a=ce.is(r)?r:this._changeAnnotations.manage(r),o=Ct.create(t,n,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e.prototype.renameFile=function(t,i,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;ft.is(n)||ce.is(n)?o=n:r=n;var a,l;if(o===void 0?a=St.create(t,i,r):(l=ce.is(o)?o:this._changeAnnotations.manage(o),a=St.create(t,i,r,l)),this._workspaceEdit.documentChanges.push(a),l!==void 0)return l},e.prototype.deleteFile=function(t,i,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r;ft.is(i)||ce.is(i)?r=i:n=i;var o,a;if(r===void 0?o=qt.create(t,n):(a=ce.is(r)?r:this._changeAnnotations.manage(r),o=qt.create(t,n,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e}();(function(e){function t(n){return{uri:n}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.uri)}e.is=i})(En||(En={}));(function(e){function t(n,r){return{uri:n,version:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.uri)&&u.integer(r.version)}e.is=i})(Mn||(Mn={}));(function(e){function t(n,r){return{uri:n,version:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.uri)&&(r.version===null||u.integer(r.version))}e.is=i})(Gt||(Gt={}));(function(e){function t(n,r,o,a){return{uri:n,languageId:r,version:o,text:a}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.uri)&&u.string(r.languageId)&&u.integer(r.version)&&u.string(r.text)}e.is=i})(jn||(jn={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(i){var n=i;return n===e.PlainText||n===e.Markdown}e.is=t})(wr||(wr={}));(function(e){function t(i){var n=i;return u.objectLiteral(i)&&wr.is(n.kind)&&u.string(n.value)}e.is=t})(xt||(xt={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(An||(An={}));(function(e){e.PlainText=1,e.Snippet=2})(Ln||(Ln={}));(function(e){e.Deprecated=1})(In||(In={}));(function(e){function t(n,r,o){return{newText:n,insert:r,replace:o}}e.create=t;function i(n){var r=n;return r&&u.string(r.newText)&&ee.is(r.insert)&&ee.is(r.replace)}e.is=i})(Fn||(Fn={}));(function(e){e.asIs=1,e.adjustIndentation=2})(Wn||(Wn={}));(function(e){function t(i){var n=i;return n&&(u.string(n.detail)||n.detail===void 0)&&(u.string(n.description)||n.description===void 0)}e.is=t})(Un||(Un={}));(function(e){function t(i){return{label:i}}e.create=t})($n||($n={}));(function(e){function t(i,n){return{items:i||[],isIncomplete:!!n}}e.create=t})(Hn||(Hn={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function i(n){var r=n;return u.string(r)||u.objectLiteral(r)&&u.string(r.language)&&u.string(r.value)}e.is=i})(Zt||(Zt={}));(function(e){function t(i){var n=i;return!!n&&u.objectLiteral(n)&&(xt.is(n.contents)||Zt.is(n.contents)||u.typedArray(n.contents,Zt.is))&&(i.range===void 0||ee.is(i.range))}e.is=t})(zn||(zn={}));(function(e){function t(i,n){return n?{label:i,documentation:n}:{label:i}}e.create=t})(Vn||(Vn={}));(function(e){function t(i,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a={label:i};return u.defined(n)&&(a.documentation=n),u.defined(r)?a.parameters=r:a.parameters=[],a}e.create=t})(Bn||(Bn={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(Jn||(Jn={}));(function(e){function t(i,n){var r={range:i};return u.number(n)&&(r.kind=n),r}e.create=t})(Xn||(Xn={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Qn||(Qn={}));(function(e){e.Deprecated=1})(Gn||(Gn={}));(function(e){function t(i,n,r,o,a){var l={name:i,kind:n,location:{uri:o,range:r}};return a&&(l.containerName=a),l}e.create=t})(Zn||(Zn={}));(function(e){function t(i,n,r,o){return o!==void 0?{name:i,kind:n,location:{uri:r,range:o}}:{name:i,kind:n,location:{uri:r}}}e.create=t})(Yn||(Yn={}));(function(e){function t(n,r,o,a,l,d){var f={name:n,detail:r,kind:o,range:a,selectionRange:l};return d!==void 0&&(f.children=d),f}e.create=t;function i(n){var r=n;return r&&u.string(r.name)&&u.number(r.kind)&&ee.is(r.range)&&ee.is(r.selectionRange)&&(r.detail===void 0||u.string(r.detail))&&(r.deprecated===void 0||u.boolean(r.deprecated))&&(r.children===void 0||Array.isArray(r.children))&&(r.tags===void 0||Array.isArray(r.tags))}e.is=i})(Kn||(Kn={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(ei||(ei={}));(function(e){e.Invoked=1,e.Automatic=2})(Yt||(Yt={}));(function(e){function t(n,r,o){var a={diagnostics:n};return r!=null&&(a.only=r),o!=null&&(a.triggerKind=o),a}e.create=t;function i(n){var r=n;return u.defined(r)&&u.typedArray(r.diagnostics,Xt.is)&&(r.only===void 0||u.typedArray(r.only,u.string))&&(r.triggerKind===void 0||r.triggerKind===Yt.Invoked||r.triggerKind===Yt.Automatic)}e.is=i})(ti||(ti={}));(function(e){function t(n,r,o){var a={title:n},l=!0;return typeof r=="string"?(l=!1,a.kind=r):lt.is(r)?a.command=r:a.edit=r,l&&o!==void 0&&(a.kind=o),a}e.create=t;function i(n){var r=n;return r&&u.string(r.title)&&(r.diagnostics===void 0||u.typedArray(r.diagnostics,Xt.is))&&(r.kind===void 0||u.string(r.kind))&&(r.edit!==void 0||r.command!==void 0)&&(r.command===void 0||lt.is(r.command))&&(r.isPreferred===void 0||u.boolean(r.isPreferred))&&(r.edit===void 0||Dr.is(r.edit))}e.is=i})(ri||(ri={}));(function(e){function t(n,r){var o={range:n};return u.defined(r)&&(o.data=r),o}e.create=t;function i(n){var r=n;return u.defined(r)&&ee.is(r.range)&&(u.undefined(r.command)||lt.is(r.command))}e.is=i})(ni||(ni={}));(function(e){function t(n,r){return{tabSize:n,insertSpaces:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.uinteger(r.tabSize)&&u.boolean(r.insertSpaces)}e.is=i})(ii||(ii={}));(function(e){function t(n,r,o){return{range:n,target:r,data:o}}e.create=t;function i(n){var r=n;return u.defined(r)&&ee.is(r.range)&&(u.undefined(r.target)||u.string(r.target))}e.is=i})(oi||(oi={}));(function(e){function t(n,r){return{range:n,parent:r}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&ee.is(r.range)&&(r.parent===void 0||e.is(r.parent))}e.is=i})(si||(si={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(ai||(ai={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(ci||(ci={}));(function(e){function t(i){var n=i;return u.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(ui||(ui={}));(function(e){function t(n,r){return{range:n,text:r}}e.create=t;function i(n){var r=n;return r!=null&&ee.is(r.range)&&u.string(r.text)}e.is=i})(di||(di={}));(function(e){function t(n,r,o){return{range:n,variableName:r,caseSensitiveLookup:o}}e.create=t;function i(n){var r=n;return r!=null&&ee.is(r.range)&&u.boolean(r.caseSensitiveLookup)&&(u.string(r.variableName)||r.variableName===void 0)}e.is=i})(li||(li={}));(function(e){function t(n,r){return{range:n,expression:r}}e.create=t;function i(n){var r=n;return r!=null&&ee.is(r.range)&&(u.string(r.expression)||r.expression===void 0)}e.is=i})(fi||(fi={}));(function(e){function t(n,r){return{frameId:n,stoppedLocation:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&ee.is(n.stoppedLocation)}e.is=i})(pi||(pi={}));(function(e){e.Type=1,e.Parameter=2;function t(i){return i===1||i===2}e.is=t})(Pr||(Pr={}));(function(e){function t(n){return{value:n}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&(r.tooltip===void 0||u.string(r.tooltip)||xt.is(r.tooltip))&&(r.location===void 0||Jt.is(r.location))&&(r.command===void 0||lt.is(r.command))}e.is=i})(Cr||(Cr={}));(function(e){function t(n,r,o){var a={position:n,label:r};return o!==void 0&&(a.kind=o),a}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&Te.is(r.position)&&(u.string(r.label)||u.typedArray(r.label,Cr.is))&&(r.kind===void 0||Pr.is(r.kind))&&r.textEdits===void 0||u.typedArray(r.textEdits,Le.is)&&(r.tooltip===void 0||u.string(r.tooltip)||xt.is(r.tooltip))&&(r.paddingLeft===void 0||u.boolean(r.paddingLeft))&&(r.paddingRight===void 0||u.boolean(r.paddingRight))}e.is=i})(hi||(hi={}));(function(e){function t(i){var n=i;return u.objectLiteral(n)&&br.is(n.uri)&&u.string(n.name)}e.is=t})(gi||(gi={}));Ba=[`
`,`\r
`,"\r"];(function(e){function t(o,a,l,d){return new Ja(o,a,l,d)}e.create=t;function i(o){var a=o;return!!(u.defined(a)&&u.string(a.uri)&&(u.undefined(a.languageId)||u.string(a.languageId))&&u.uinteger(a.lineCount)&&u.func(a.getText)&&u.func(a.positionAt)&&u.func(a.offsetAt))}e.is=i;function n(o,a){for(var l=o.getText(),d=r(a,function(w,C){var A=w.range.start.line-C.range.start.line;return A===0?w.range.start.character-C.range.start.character:A}),f=l.length,v=d.length-1;v>=0;v--){var y=d[v],P=o.offsetAt(y.range.start),p=o.offsetAt(y.range.end);if(p<=f)l=l.substring(0,P)+y.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");f=P}return l}e.applyEdits=n;function r(o,a){if(o.length<=1)return o;var l=o.length/2|0,d=o.slice(0,l),f=o.slice(l);r(d,a),r(f,a);for(var v=0,y=0,P=0;v<d.length&&y<f.length;){var p=a(d[v],f[y]);p<=0?o[P++]=d[v++]:o[P++]=f[y++]}for(;v<d.length;)o[P++]=d[v++];for(;y<f.length;)o[P++]=f[y++];return o}})(mi||(mi={}));Ja=function(){function e(t,i,n,r){this._uri=t,this._languageId=i,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var i=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(i,n)}return this._content},e.prototype.update=function(t,i){this._content=t.text,this._version=i,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],i=this._content,n=!0,r=0;r<i.length;r++){n&&(t.push(r),n=!1);var o=i.charAt(r);n=o==="\r"||o===`
`,o==="\r"&&r+1<i.length&&i.charAt(r+1)===`
`&&r++}n&&i.length>0&&t.push(i.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var i=this.getLineOffsets(),n=0,r=i.length;if(r===0)return Te.create(0,t);for(;n<r;){var o=Math.floor((n+r)/2);i[o]>t?r=o:n=o+1}var a=n-1;return Te.create(a,t-i[a])},e.prototype.offsetAt=function(t){var i=this.getLineOffsets();if(t.line>=i.length)return this._content.length;if(t.line<0)return 0;var n=i[t.line],r=t.line+1<i.length?i[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();(function(e){var t=Object.prototype.toString;function i(p){return typeof p!="undefined"}e.defined=i;function n(p){return typeof p=="undefined"}e.undefined=n;function r(p){return p===!0||p===!1}e.boolean=r;function o(p){return t.call(p)==="[object String]"}e.string=o;function a(p){return t.call(p)==="[object Number]"}e.number=a;function l(p,w,C){return t.call(p)==="[object Number]"&&w<=p&&p<=C}e.numberRange=l;function d(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}e.integer=d;function f(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}e.uinteger=f;function v(p){return t.call(p)==="[object Function]"}e.func=v;function y(p){return p!==null&&typeof p=="object"}e.objectLiteral=y;function P(p,w){return Array.isArray(p)&&p.every(w)}e.typedArray=P})(u||(u={}))});var Z=E(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.ProtocolNotificationType=me.ProtocolNotificationType0=me.ProtocolRequestType=me.ProtocolRequestType0=me.RegistrationType=me.MessageDirection=void 0;var kt=dt(),Xa;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Xa=me.MessageDirection||(me.MessageDirection={}));var Ho=class{constructor(t){this.method=t}};me.RegistrationType=Ho;var zo=class extends kt.RequestType0{constructor(t){super(t)}};me.ProtocolRequestType0=zo;var Vo=class extends kt.RequestType{constructor(t){super(t,kt.ParameterStructures.byName)}};me.ProtocolRequestType=Vo;var Bo=class extends kt.NotificationType0{constructor(t){super(t)}};me.ProtocolNotificationType0=Bo;var Jo=class extends kt.NotificationType{constructor(t){super(t,kt.ParameterStructures.byName)}};me.ProtocolNotificationType=Jo});var xr=E(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.objectLiteral=re.typedArray=re.stringArray=re.array=re.func=re.error=re.number=re.string=re.boolean=void 0;function Qa(e){return e===!0||e===!1}re.boolean=Qa;function Xo(e){return typeof e=="string"||e instanceof String}re.string=Xo;function Ga(e){return typeof e=="number"||e instanceof Number}re.number=Ga;function Za(e){return e instanceof Error}re.error=Za;function Ya(e){return typeof e=="function"}re.func=Ya;function Qo(e){return Array.isArray(e)}re.array=Qo;function Ka(e){return Qo(e)&&e.every(t=>Xo(t))}re.stringArray=Ka;function ec(e,t){return Array.isArray(e)&&e.every(t)}re.typedArray=ec;function tc(e){return e!==null&&typeof e=="object"}re.objectLiteral=tc});var Zo=E(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.ImplementationRequest=void 0;var Go=Z(),rc;(function(e){e.method="textDocument/implementation",e.messageDirection=Go.MessageDirection.clientToServer,e.type=new Go.ProtocolRequestType(e.method)})(rc=Kt.ImplementationRequest||(Kt.ImplementationRequest={}))});var Ko=E(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.TypeDefinitionRequest=void 0;var Yo=Z(),nc;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=Yo.MessageDirection.clientToServer,e.type=new Yo.ProtocolRequestType(e.method)})(nc=er.TypeDefinitionRequest||(er.TypeDefinitionRequest={}))});var es=E(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.DidChangeWorkspaceFoldersNotification=Ke.WorkspaceFoldersRequest=void 0;var kr=Z(),ic;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=kr.MessageDirection.serverToClient,e.type=new kr.ProtocolRequestType0(e.method)})(ic=Ke.WorkspaceFoldersRequest||(Ke.WorkspaceFoldersRequest={}));var oc;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=kr.MessageDirection.clientToServer,e.type=new kr.ProtocolNotificationType(e.method)})(oc=Ke.DidChangeWorkspaceFoldersNotification||(Ke.DidChangeWorkspaceFoldersNotification={}))});var rs=E(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.ConfigurationRequest=void 0;var ts=Z(),sc;(function(e){e.method="workspace/configuration",e.messageDirection=ts.MessageDirection.serverToClient,e.type=new ts.ProtocolRequestType(e.method)})(sc=tr.ConfigurationRequest||(tr.ConfigurationRequest={}))});var ns=E(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.ColorPresentationRequest=et.DocumentColorRequest=void 0;var Nr=Z(),ac;(function(e){e.method="textDocument/documentColor",e.messageDirection=Nr.MessageDirection.clientToServer,e.type=new Nr.ProtocolRequestType(e.method)})(ac=et.DocumentColorRequest||(et.DocumentColorRequest={}));var cc;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Nr.MessageDirection.clientToServer,e.type=new Nr.ProtocolRequestType(e.method)})(cc=et.ColorPresentationRequest||(et.ColorPresentationRequest={}))});var os=E(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.FoldingRangeRequest=void 0;var is=Z(),uc;(function(e){e.method="textDocument/foldingRange",e.messageDirection=is.MessageDirection.clientToServer,e.type=new is.ProtocolRequestType(e.method)})(uc=rr.FoldingRangeRequest||(rr.FoldingRangeRequest={}))});var as=E(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.DeclarationRequest=void 0;var ss=Z(),dc;(function(e){e.method="textDocument/declaration",e.messageDirection=ss.MessageDirection.clientToServer,e.type=new ss.ProtocolRequestType(e.method)})(dc=nr.DeclarationRequest||(nr.DeclarationRequest={}))});var us=E(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.SelectionRangeRequest=void 0;var cs=Z(),lc;(function(e){e.method="textDocument/selectionRange",e.messageDirection=cs.MessageDirection.clientToServer,e.type=new cs.ProtocolRequestType(e.method)})(lc=ir.SelectionRangeRequest||(ir.SelectionRangeRequest={}))});var ds=E(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.WorkDoneProgressCancelNotification=xe.WorkDoneProgressCreateRequest=xe.WorkDoneProgress=void 0;var fc=dt(),Or=Z(),pc;(function(e){e.type=new fc.ProgressType;function t(i){return i===e.type}e.is=t})(pc=xe.WorkDoneProgress||(xe.WorkDoneProgress={}));var hc;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Or.MessageDirection.serverToClient,e.type=new Or.ProtocolRequestType(e.method)})(hc=xe.WorkDoneProgressCreateRequest||(xe.WorkDoneProgressCreateRequest={}));var gc;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Or.MessageDirection.clientToServer,e.type=new Or.ProtocolNotificationType(e.method)})(gc=xe.WorkDoneProgressCancelNotification||(xe.WorkDoneProgressCancelNotification={}))});var ls=E(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.CallHierarchyOutgoingCallsRequest=ke.CallHierarchyIncomingCallsRequest=ke.CallHierarchyPrepareRequest=void 0;var Nt=Z(),mc;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolRequestType(e.method)})(mc=ke.CallHierarchyPrepareRequest||(ke.CallHierarchyPrepareRequest={}));var yc;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolRequestType(e.method)})(yc=ke.CallHierarchyIncomingCallsRequest||(ke.CallHierarchyIncomingCallsRequest={}));var vc;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolRequestType(e.method)})(vc=ke.CallHierarchyOutgoingCallsRequest||(ke.CallHierarchyOutgoingCallsRequest={}))});var fs=E(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.SemanticTokensRefreshRequest=ne.SemanticTokensRangeRequest=ne.SemanticTokensDeltaRequest=ne.SemanticTokensRequest=ne.SemanticTokensRegistrationType=ne.TokenFormat=void 0;var Xe=Z(),bc;(function(e){e.Relative="relative"})(bc=ne.TokenFormat||(ne.TokenFormat={}));var Er;(function(e){e.method="textDocument/semanticTokens",e.type=new Xe.RegistrationType(e.method)})(Er=ne.SemanticTokensRegistrationType||(ne.SemanticTokensRegistrationType={}));var Rc;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType(e.method),e.registrationMethod=Er.method})(Rc=ne.SemanticTokensRequest||(ne.SemanticTokensRequest={}));var _c;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType(e.method),e.registrationMethod=Er.method})(_c=ne.SemanticTokensDeltaRequest||(ne.SemanticTokensDeltaRequest={}));var Dc;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType(e.method),e.registrationMethod=Er.method})(Dc=ne.SemanticTokensRangeRequest||(ne.SemanticTokensRangeRequest={}));var Tc;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType0(e.method)})(Tc=ne.SemanticTokensRefreshRequest||(ne.SemanticTokensRefreshRequest={}))});var hs=E(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.ShowDocumentRequest=void 0;var ps=Z(),wc;(function(e){e.method="window/showDocument",e.messageDirection=ps.MessageDirection.serverToClient,e.type=new ps.ProtocolRequestType(e.method)})(wc=or.ShowDocumentRequest||(or.ShowDocumentRequest={}))});var ms=E(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.LinkedEditingRangeRequest=void 0;var gs=Z(),Pc;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=gs.MessageDirection.clientToServer,e.type=new gs.ProtocolRequestType(e.method)})(Pc=sr.LinkedEditingRangeRequest||(sr.LinkedEditingRangeRequest={}))});var ys=E(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.WillDeleteFilesRequest=Y.DidDeleteFilesNotification=Y.DidRenameFilesNotification=Y.WillRenameFilesRequest=Y.DidCreateFilesNotification=Y.WillCreateFilesRequest=Y.FileOperationPatternKind=void 0;var we=Z(),Cc;(function(e){e.file="file",e.folder="folder"})(Cc=Y.FileOperationPatternKind||(Y.FileOperationPatternKind={}));var Sc;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolRequestType(e.method)})(Sc=Y.WillCreateFilesRequest||(Y.WillCreateFilesRequest={}));var qc;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolNotificationType(e.method)})(qc=Y.DidCreateFilesNotification||(Y.DidCreateFilesNotification={}));var xc;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolRequestType(e.method)})(xc=Y.WillRenameFilesRequest||(Y.WillRenameFilesRequest={}));var kc;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolNotificationType(e.method)})(kc=Y.DidRenameFilesNotification||(Y.DidRenameFilesNotification={}));var Nc;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolNotificationType(e.method)})(Nc=Y.DidDeleteFilesNotification||(Y.DidDeleteFilesNotification={}));var Oc;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=we.MessageDirection.clientToServer,e.type=new we.ProtocolRequestType(e.method)})(Oc=Y.WillDeleteFilesRequest||(Y.WillDeleteFilesRequest={}))});var bs=E(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.MonikerRequest=Ne.MonikerKind=Ne.UniquenessLevel=void 0;var vs=Z(),Ec;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Ec=Ne.UniquenessLevel||(Ne.UniquenessLevel={}));var Mc;(function(e){e.$import="import",e.$export="export",e.local="local"})(Mc=Ne.MonikerKind||(Ne.MonikerKind={}));var jc;(function(e){e.method="textDocument/moniker",e.messageDirection=vs.MessageDirection.clientToServer,e.type=new vs.ProtocolRequestType(e.method)})(jc=Ne.MonikerRequest||(Ne.MonikerRequest={}))});var Rs=E(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.TypeHierarchySubtypesRequest=Oe.TypeHierarchySupertypesRequest=Oe.TypeHierarchyPrepareRequest=void 0;var Ot=Z(),Ac;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Ot.MessageDirection.clientToServer,e.type=new Ot.ProtocolRequestType(e.method)})(Ac=Oe.TypeHierarchyPrepareRequest||(Oe.TypeHierarchyPrepareRequest={}));var Lc;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Ot.MessageDirection.clientToServer,e.type=new Ot.ProtocolRequestType(e.method)})(Lc=Oe.TypeHierarchySupertypesRequest||(Oe.TypeHierarchySupertypesRequest={}));var Ic;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Ot.MessageDirection.clientToServer,e.type=new Ot.ProtocolRequestType(e.method)})(Ic=Oe.TypeHierarchySubtypesRequest||(Oe.TypeHierarchySubtypesRequest={}))});var _s=E(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.InlineValueRefreshRequest=tt.InlineValueRequest=void 0;var Mr=Z(),Fc;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Mr.MessageDirection.clientToServer,e.type=new Mr.ProtocolRequestType(e.method)})(Fc=tt.InlineValueRequest||(tt.InlineValueRequest={}));var Wc;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Mr.MessageDirection.clientToServer,e.type=new Mr.ProtocolRequestType0(e.method)})(Wc=tt.InlineValueRefreshRequest||(tt.InlineValueRefreshRequest={}))});var Ds=E(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.InlayHintRefreshRequest=Ee.InlayHintResolveRequest=Ee.InlayHintRequest=void 0;var Et=Z(),Uc;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Et.MessageDirection.clientToServer,e.type=new Et.ProtocolRequestType(e.method)})(Uc=Ee.InlayHintRequest||(Ee.InlayHintRequest={}));var $c;(function(e){e.method="inlayHint/resolve",e.messageDirection=Et.MessageDirection.clientToServer,e.type=new Et.ProtocolRequestType(e.method)})($c=Ee.InlayHintResolveRequest||(Ee.InlayHintResolveRequest={}));var Hc;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Et.MessageDirection.clientToServer,e.type=new Et.ProtocolRequestType0(e.method)})(Hc=Ee.InlayHintRefreshRequest||(Ee.InlayHintRefreshRequest={}))});var ws=E(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.DiagnosticRefreshRequest=ue.WorkspaceDiagnosticRequest=ue.DocumentDiagnosticRequest=ue.DocumentDiagnosticReportKind=ue.DiagnosticServerCancellationData=void 0;var Ts=dt(),zc=xr(),Mt=Z(),Vc;(function(e){function t(i){let n=i;return n&&zc.boolean(n.retriggerRequest)}e.is=t})(Vc=ue.DiagnosticServerCancellationData||(ue.DiagnosticServerCancellationData={}));var Bc;(function(e){e.Full="full",e.Unchanged="unchanged"})(Bc=ue.DocumentDiagnosticReportKind||(ue.DocumentDiagnosticReportKind={}));var Jc;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Mt.MessageDirection.clientToServer,e.type=new Mt.ProtocolRequestType(e.method),e.partialResult=new Ts.ProgressType})(Jc=ue.DocumentDiagnosticRequest||(ue.DocumentDiagnosticRequest={}));var Xc;(function(e){e.method="workspace/diagnostic",e.messageDirection=Mt.MessageDirection.clientToServer,e.type=new Mt.ProtocolRequestType(e.method),e.partialResult=new Ts.ProgressType})(Xc=ue.WorkspaceDiagnosticRequest||(ue.WorkspaceDiagnosticRequest={}));var Qc;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Mt.MessageDirection.clientToServer,e.type=new Mt.ProtocolRequestType0(e.method)})(Qc=ue.DiagnosticRefreshRequest||(ue.DiagnosticRefreshRequest={}))});var Ss=E(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.DidCloseNotebookDocumentNotification=I.DidSaveNotebookDocumentNotification=I.DidChangeNotebookDocumentNotification=I.NotebookCellArrayChange=I.DidOpenNotebookDocumentNotification=I.NotebookDocumentSyncRegistrationType=I.NotebookDocument=I.NotebookCell=I.ExecutionSummary=I.NotebookCellKind=void 0;var ar=(qr(),fr(Sr)),Me=xr(),Ie=Z(),Ps;(function(e){e.Markup=1,e.Code=2;function t(i){return i===1||i===2}e.is=t})(Ps=I.NotebookCellKind||(I.NotebookCellKind={}));var Cs;(function(e){function t(r,o){let a={executionOrder:r};return(o===!0||o===!1)&&(a.success=o),a}e.create=t;function i(r){let o=r;return Me.objectLiteral(o)&&ar.uinteger.is(o.executionOrder)&&(o.success===void 0||Me.boolean(o.success))}e.is=i;function n(r,o){return r===o?!0:r==null||o===null||o===void 0?!1:r.executionOrder===o.executionOrder&&r.success===o.success}e.equals=n})(Cs=I.ExecutionSummary||(I.ExecutionSummary={}));var yi;(function(e){function t(o,a){return{kind:o,document:a}}e.create=t;function i(o){let a=o;return Me.objectLiteral(a)&&Ps.is(a.kind)&&ar.DocumentUri.is(a.document)&&(a.metadata===void 0||Me.objectLiteral(a.metadata))}e.is=i;function n(o,a){let l=new Set;return o.document!==a.document&&l.add("document"),o.kind!==a.kind&&l.add("kind"),o.executionSummary!==a.executionSummary&&l.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!r(o.metadata,a.metadata)&&l.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!Cs.equals(o.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}e.diff=n;function r(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let l=Array.isArray(o),d=Array.isArray(a);if(l!==d)return!1;if(l&&d){if(o.length!==a.length)return!1;for(let f=0;f<o.length;f++)if(!r(o[f],a[f]))return!1}if(Me.objectLiteral(o)&&Me.objectLiteral(a)){let f=Object.keys(o),v=Object.keys(a);if(f.length!==v.length||(f.sort(),v.sort(),!r(f,v)))return!1;for(let y=0;y<f.length;y++){let P=f[y];if(!r(o[P],a[P]))return!1}}return!0}})(yi=I.NotebookCell||(I.NotebookCell={}));var Gc;(function(e){function t(n,r,o,a){return{uri:n,notebookType:r,version:o,cells:a}}e.create=t;function i(n){let r=n;return Me.objectLiteral(r)&&Me.string(r.uri)&&ar.integer.is(r.version)&&Me.typedArray(r.cells,yi.is)}e.is=i})(Gc=I.NotebookDocument||(I.NotebookDocument={}));var cr;(function(e){e.method="notebookDocument/sync",e.messageDirection=Ie.MessageDirection.clientToServer,e.type=new Ie.RegistrationType(e.method)})(cr=I.NotebookDocumentSyncRegistrationType||(I.NotebookDocumentSyncRegistrationType={}));var Zc;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Ie.MessageDirection.clientToServer,e.type=new Ie.ProtocolNotificationType(e.method),e.registrationMethod=cr.method})(Zc=I.DidOpenNotebookDocumentNotification||(I.DidOpenNotebookDocumentNotification={}));var Yc;(function(e){function t(n){let r=n;return Me.objectLiteral(r)&&ar.uinteger.is(r.start)&&ar.uinteger.is(r.deleteCount)&&(r.cells===void 0||Me.typedArray(r.cells,yi.is))}e.is=t;function i(n,r,o){let a={start:n,deleteCount:r};return o!==void 0&&(a.cells=o),a}e.create=i})(Yc=I.NotebookCellArrayChange||(I.NotebookCellArrayChange={}));var Kc;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Ie.MessageDirection.clientToServer,e.type=new Ie.ProtocolNotificationType(e.method),e.registrationMethod=cr.method})(Kc=I.DidChangeNotebookDocumentNotification||(I.DidChangeNotebookDocumentNotification={}));var eu;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Ie.MessageDirection.clientToServer,e.type=new Ie.ProtocolNotificationType(e.method),e.registrationMethod=cr.method})(eu=I.DidSaveNotebookDocumentNotification||(I.DidSaveNotebookDocumentNotification={}));var tu;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Ie.MessageDirection.clientToServer,e.type=new Ie.ProtocolNotificationType(e.method),e.registrationMethod=cr.method})(tu=I.DidCloseNotebookDocumentNotification||(I.DidCloseNotebookDocumentNotification={}))});var As=E(s=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.WorkspaceSymbolRequest=s.CodeActionResolveRequest=s.CodeActionRequest=s.DocumentSymbolRequest=s.DocumentHighlightRequest=s.ReferencesRequest=s.DefinitionRequest=s.SignatureHelpRequest=s.SignatureHelpTriggerKind=s.HoverRequest=s.CompletionResolveRequest=s.CompletionRequest=s.CompletionTriggerKind=s.PublishDiagnosticsNotification=s.WatchKind=s.RelativePattern=s.FileChangeType=s.DidChangeWatchedFilesNotification=s.WillSaveTextDocumentWaitUntilRequest=s.WillSaveTextDocumentNotification=s.TextDocumentSaveReason=s.DidSaveTextDocumentNotification=s.DidCloseTextDocumentNotification=s.DidChangeTextDocumentNotification=s.TextDocumentContentChangeEvent=s.DidOpenTextDocumentNotification=s.TextDocumentSyncKind=s.TelemetryEventNotification=s.LogMessageNotification=s.ShowMessageRequest=s.ShowMessageNotification=s.MessageType=s.DidChangeConfigurationNotification=s.ExitNotification=s.ShutdownRequest=s.InitializedNotification=s.InitializeErrorCodes=s.InitializeRequest=s.WorkDoneProgressOptions=s.TextDocumentRegistrationOptions=s.StaticRegistrationOptions=s.PositionEncodingKind=s.FailureHandlingKind=s.ResourceOperationKind=s.UnregistrationRequest=s.RegistrationRequest=s.DocumentSelector=s.NotebookCellTextDocumentFilter=s.NotebookDocumentFilter=s.TextDocumentFilter=void 0;s.TypeHierarchySubtypesRequest=s.TypeHierarchyPrepareRequest=s.MonikerRequest=s.MonikerKind=s.UniquenessLevel=s.WillDeleteFilesRequest=s.DidDeleteFilesNotification=s.WillRenameFilesRequest=s.DidRenameFilesNotification=s.WillCreateFilesRequest=s.DidCreateFilesNotification=s.FileOperationPatternKind=s.LinkedEditingRangeRequest=s.ShowDocumentRequest=s.SemanticTokensRegistrationType=s.SemanticTokensRefreshRequest=s.SemanticTokensRangeRequest=s.SemanticTokensDeltaRequest=s.SemanticTokensRequest=s.TokenFormat=s.CallHierarchyPrepareRequest=s.CallHierarchyOutgoingCallsRequest=s.CallHierarchyIncomingCallsRequest=s.WorkDoneProgressCancelNotification=s.WorkDoneProgressCreateRequest=s.WorkDoneProgress=s.SelectionRangeRequest=s.DeclarationRequest=s.FoldingRangeRequest=s.ColorPresentationRequest=s.DocumentColorRequest=s.ConfigurationRequest=s.DidChangeWorkspaceFoldersNotification=s.WorkspaceFoldersRequest=s.TypeDefinitionRequest=s.ImplementationRequest=s.ApplyWorkspaceEditRequest=s.ExecuteCommandRequest=s.PrepareRenameRequest=s.RenameRequest=s.PrepareSupportDefaultBehavior=s.DocumentOnTypeFormattingRequest=s.DocumentRangeFormattingRequest=s.DocumentFormattingRequest=s.DocumentLinkResolveRequest=s.DocumentLinkRequest=s.CodeLensRefreshRequest=s.CodeLensResolveRequest=s.CodeLensRequest=s.WorkspaceSymbolResolveRequest=void 0;s.DidCloseNotebookDocumentNotification=s.DidSaveNotebookDocumentNotification=s.DidChangeNotebookDocumentNotification=s.NotebookCellArrayChange=s.DidOpenNotebookDocumentNotification=s.NotebookDocumentSyncRegistrationType=s.NotebookDocument=s.NotebookCell=s.ExecutionSummary=s.NotebookCellKind=s.DiagnosticRefreshRequest=s.WorkspaceDiagnosticRequest=s.DocumentDiagnosticRequest=s.DocumentDiagnosticReportKind=s.DiagnosticServerCancellationData=s.InlayHintRefreshRequest=s.InlayHintResolveRequest=s.InlayHintRequest=s.InlineValueRefreshRequest=s.InlineValueRequest=s.TypeHierarchySupertypesRequest=void 0;var _=Z(),qs=(qr(),fr(Sr)),de=xr(),ru=Zo();Object.defineProperty(s,"ImplementationRequest",{enumerable:!0,get:function(){return ru.ImplementationRequest}});var nu=Ko();Object.defineProperty(s,"TypeDefinitionRequest",{enumerable:!0,get:function(){return nu.TypeDefinitionRequest}});var xs=es();Object.defineProperty(s,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return xs.WorkspaceFoldersRequest}});Object.defineProperty(s,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return xs.DidChangeWorkspaceFoldersNotification}});var iu=rs();Object.defineProperty(s,"ConfigurationRequest",{enumerable:!0,get:function(){return iu.ConfigurationRequest}});var ks=ns();Object.defineProperty(s,"DocumentColorRequest",{enumerable:!0,get:function(){return ks.DocumentColorRequest}});Object.defineProperty(s,"ColorPresentationRequest",{enumerable:!0,get:function(){return ks.ColorPresentationRequest}});var ou=os();Object.defineProperty(s,"FoldingRangeRequest",{enumerable:!0,get:function(){return ou.FoldingRangeRequest}});var su=as();Object.defineProperty(s,"DeclarationRequest",{enumerable:!0,get:function(){return su.DeclarationRequest}});var au=us();Object.defineProperty(s,"SelectionRangeRequest",{enumerable:!0,get:function(){return au.SelectionRangeRequest}});var vi=ds();Object.defineProperty(s,"WorkDoneProgress",{enumerable:!0,get:function(){return vi.WorkDoneProgress}});Object.defineProperty(s,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return vi.WorkDoneProgressCreateRequest}});Object.defineProperty(s,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return vi.WorkDoneProgressCancelNotification}});var bi=ls();Object.defineProperty(s,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return bi.CallHierarchyIncomingCallsRequest}});Object.defineProperty(s,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return bi.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(s,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return bi.CallHierarchyPrepareRequest}});var jt=fs();Object.defineProperty(s,"TokenFormat",{enumerable:!0,get:function(){return jt.TokenFormat}});Object.defineProperty(s,"SemanticTokensRequest",{enumerable:!0,get:function(){return jt.SemanticTokensRequest}});Object.defineProperty(s,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return jt.SemanticTokensDeltaRequest}});Object.defineProperty(s,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return jt.SemanticTokensRangeRequest}});Object.defineProperty(s,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return jt.SemanticTokensRefreshRequest}});Object.defineProperty(s,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return jt.SemanticTokensRegistrationType}});var cu=hs();Object.defineProperty(s,"ShowDocumentRequest",{enumerable:!0,get:function(){return cu.ShowDocumentRequest}});var uu=ms();Object.defineProperty(s,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return uu.LinkedEditingRangeRequest}});var pt=ys();Object.defineProperty(s,"FileOperationPatternKind",{enumerable:!0,get:function(){return pt.FileOperationPatternKind}});Object.defineProperty(s,"DidCreateFilesNotification",{enumerable:!0,get:function(){return pt.DidCreateFilesNotification}});Object.defineProperty(s,"WillCreateFilesRequest",{enumerable:!0,get:function(){return pt.WillCreateFilesRequest}});Object.defineProperty(s,"DidRenameFilesNotification",{enumerable:!0,get:function(){return pt.DidRenameFilesNotification}});Object.defineProperty(s,"WillRenameFilesRequest",{enumerable:!0,get:function(){return pt.WillRenameFilesRequest}});Object.defineProperty(s,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return pt.DidDeleteFilesNotification}});Object.defineProperty(s,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return pt.WillDeleteFilesRequest}});var Ri=bs();Object.defineProperty(s,"UniquenessLevel",{enumerable:!0,get:function(){return Ri.UniquenessLevel}});Object.defineProperty(s,"MonikerKind",{enumerable:!0,get:function(){return Ri.MonikerKind}});Object.defineProperty(s,"MonikerRequest",{enumerable:!0,get:function(){return Ri.MonikerRequest}});var _i=Rs();Object.defineProperty(s,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return _i.TypeHierarchyPrepareRequest}});Object.defineProperty(s,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return _i.TypeHierarchySubtypesRequest}});Object.defineProperty(s,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return _i.TypeHierarchySupertypesRequest}});var Ns=_s();Object.defineProperty(s,"InlineValueRequest",{enumerable:!0,get:function(){return Ns.InlineValueRequest}});Object.defineProperty(s,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Ns.InlineValueRefreshRequest}});var Di=Ds();Object.defineProperty(s,"InlayHintRequest",{enumerable:!0,get:function(){return Di.InlayHintRequest}});Object.defineProperty(s,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Di.InlayHintResolveRequest}});Object.defineProperty(s,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Di.InlayHintRefreshRequest}});var ur=ws();Object.defineProperty(s,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return ur.DiagnosticServerCancellationData}});Object.defineProperty(s,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return ur.DocumentDiagnosticReportKind}});Object.defineProperty(s,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return ur.DocumentDiagnosticRequest}});Object.defineProperty(s,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return ur.WorkspaceDiagnosticRequest}});Object.defineProperty(s,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return ur.DiagnosticRefreshRequest}});var Fe=Ss();Object.defineProperty(s,"NotebookCellKind",{enumerable:!0,get:function(){return Fe.NotebookCellKind}});Object.defineProperty(s,"ExecutionSummary",{enumerable:!0,get:function(){return Fe.ExecutionSummary}});Object.defineProperty(s,"NotebookCell",{enumerable:!0,get:function(){return Fe.NotebookCell}});Object.defineProperty(s,"NotebookDocument",{enumerable:!0,get:function(){return Fe.NotebookDocument}});Object.defineProperty(s,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Fe.NotebookDocumentSyncRegistrationType}});Object.defineProperty(s,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Fe.DidOpenNotebookDocumentNotification}});Object.defineProperty(s,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Fe.NotebookCellArrayChange}});Object.defineProperty(s,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Fe.DidChangeNotebookDocumentNotification}});Object.defineProperty(s,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Fe.DidSaveNotebookDocumentNotification}});Object.defineProperty(s,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Fe.DidCloseNotebookDocumentNotification}});var Os;(function(e){function t(i){let n=i;return de.string(n.language)||de.string(n.scheme)||de.string(n.pattern)}e.is=t})(Os=s.TextDocumentFilter||(s.TextDocumentFilter={}));var Es;(function(e){function t(i){let n=i;return de.objectLiteral(n)&&(de.string(n.notebookType)||de.string(n.scheme)||de.string(n.pattern))}e.is=t})(Es=s.NotebookDocumentFilter||(s.NotebookDocumentFilter={}));var Ms;(function(e){function t(i){let n=i;return de.objectLiteral(n)&&(de.string(n.notebook)||Es.is(n.notebook))&&(n.language===void 0||de.string(n.language))}e.is=t})(Ms=s.NotebookCellTextDocumentFilter||(s.NotebookCellTextDocumentFilter={}));var js;(function(e){function t(i){if(!Array.isArray(i))return!1;for(let n of i)if(!de.string(n)&&!Os.is(n)&&!Ms.is(n))return!1;return!0}e.is=t})(js=s.DocumentSelector||(s.DocumentSelector={}));var du;(function(e){e.method="client/registerCapability",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType(e.method)})(du=s.RegistrationRequest||(s.RegistrationRequest={}));var lu;(function(e){e.method="client/unregisterCapability",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType(e.method)})(lu=s.UnregistrationRequest||(s.UnregistrationRequest={}));var fu;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(fu=s.ResourceOperationKind||(s.ResourceOperationKind={}));var pu;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(pu=s.FailureHandlingKind||(s.FailureHandlingKind={}));var hu;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(hu=s.PositionEncodingKind||(s.PositionEncodingKind={}));var gu;(function(e){function t(i){let n=i;return n&&de.string(n.id)&&n.id.length>0}e.hasId=t})(gu=s.StaticRegistrationOptions||(s.StaticRegistrationOptions={}));var mu;(function(e){function t(i){let n=i;return n&&(n.documentSelector===null||js.is(n.documentSelector))}e.is=t})(mu=s.TextDocumentRegistrationOptions||(s.TextDocumentRegistrationOptions={}));var yu;(function(e){function t(n){let r=n;return de.objectLiteral(r)&&(r.workDoneProgress===void 0||de.boolean(r.workDoneProgress))}e.is=t;function i(n){let r=n;return r&&de.boolean(r.workDoneProgress)}e.hasWorkDoneProgress=i})(yu=s.WorkDoneProgressOptions||(s.WorkDoneProgressOptions={}));var vu;(function(e){e.method="initialize",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(vu=s.InitializeRequest||(s.InitializeRequest={}));var bu;(function(e){e.unknownProtocolVersion=1})(bu=s.InitializeErrorCodes||(s.InitializeErrorCodes={}));var Ru;(function(e){e.method="initialized",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Ru=s.InitializedNotification||(s.InitializedNotification={}));var _u;(function(e){e.method="shutdown",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType0(e.method)})(_u=s.ShutdownRequest||(s.ShutdownRequest={}));var Du;(function(e){e.method="exit",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType0(e.method)})(Du=s.ExitNotification||(s.ExitNotification={}));var Tu;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Tu=s.DidChangeConfigurationNotification||(s.DidChangeConfigurationNotification={}));var wu;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(wu=s.MessageType||(s.MessageType={}));var Pu;(function(e){e.method="window/showMessage",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolNotificationType(e.method)})(Pu=s.ShowMessageNotification||(s.ShowMessageNotification={}));var Cu;(function(e){e.method="window/showMessageRequest",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType(e.method)})(Cu=s.ShowMessageRequest||(s.ShowMessageRequest={}));var Su;(function(e){e.method="window/logMessage",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolNotificationType(e.method)})(Su=s.LogMessageNotification||(s.LogMessageNotification={}));var qu;(function(e){e.method="telemetry/event",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolNotificationType(e.method)})(qu=s.TelemetryEventNotification||(s.TelemetryEventNotification={}));var xu;(function(e){e.None=0,e.Full=1,e.Incremental=2})(xu=s.TextDocumentSyncKind||(s.TextDocumentSyncKind={}));var ku;(function(e){e.method="textDocument/didOpen",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(ku=s.DidOpenTextDocumentNotification||(s.DidOpenTextDocumentNotification={}));var Nu;(function(e){function t(n){let r=n;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}e.isIncremental=t;function i(n){let r=n;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}e.isFull=i})(Nu=s.TextDocumentContentChangeEvent||(s.TextDocumentContentChangeEvent={}));var Ou;(function(e){e.method="textDocument/didChange",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Ou=s.DidChangeTextDocumentNotification||(s.DidChangeTextDocumentNotification={}));var Eu;(function(e){e.method="textDocument/didClose",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Eu=s.DidCloseTextDocumentNotification||(s.DidCloseTextDocumentNotification={}));var Mu;(function(e){e.method="textDocument/didSave",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Mu=s.DidSaveTextDocumentNotification||(s.DidSaveTextDocumentNotification={}));var ju;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(ju=s.TextDocumentSaveReason||(s.TextDocumentSaveReason={}));var Au;(function(e){e.method="textDocument/willSave",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Au=s.WillSaveTextDocumentNotification||(s.WillSaveTextDocumentNotification={}));var Lu;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Lu=s.WillSaveTextDocumentWaitUntilRequest||(s.WillSaveTextDocumentWaitUntilRequest={}));var Iu;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Iu=s.DidChangeWatchedFilesNotification||(s.DidChangeWatchedFilesNotification={}));var Fu;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Fu=s.FileChangeType||(s.FileChangeType={}));var Wu;(function(e){function t(i){let n=i;return de.objectLiteral(n)&&(qs.URI.is(n.baseUri)||qs.WorkspaceFolder.is(n.baseUri))&&de.string(n.pattern)}e.is=t})(Wu=s.RelativePattern||(s.RelativePattern={}));var Uu;(function(e){e.Create=1,e.Change=2,e.Delete=4})(Uu=s.WatchKind||(s.WatchKind={}));var $u;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolNotificationType(e.method)})($u=s.PublishDiagnosticsNotification||(s.PublishDiagnosticsNotification={}));var Hu;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(Hu=s.CompletionTriggerKind||(s.CompletionTriggerKind={}));var zu;(function(e){e.method="textDocument/completion",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(zu=s.CompletionRequest||(s.CompletionRequest={}));var Vu;(function(e){e.method="completionItem/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Vu=s.CompletionResolveRequest||(s.CompletionResolveRequest={}));var Bu;(function(e){e.method="textDocument/hover",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Bu=s.HoverRequest||(s.HoverRequest={}));var Ju;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(Ju=s.SignatureHelpTriggerKind||(s.SignatureHelpTriggerKind={}));var Xu;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Xu=s.SignatureHelpRequest||(s.SignatureHelpRequest={}));var Qu;(function(e){e.method="textDocument/definition",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Qu=s.DefinitionRequest||(s.DefinitionRequest={}));var Gu;(function(e){e.method="textDocument/references",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Gu=s.ReferencesRequest||(s.ReferencesRequest={}));var Zu;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Zu=s.DocumentHighlightRequest||(s.DocumentHighlightRequest={}));var Yu;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Yu=s.DocumentSymbolRequest||(s.DocumentSymbolRequest={}));var Ku;(function(e){e.method="textDocument/codeAction",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Ku=s.CodeActionRequest||(s.CodeActionRequest={}));var ed;(function(e){e.method="codeAction/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(ed=s.CodeActionResolveRequest||(s.CodeActionResolveRequest={}));var td;(function(e){e.method="workspace/symbol",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(td=s.WorkspaceSymbolRequest||(s.WorkspaceSymbolRequest={}));var rd;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(rd=s.WorkspaceSymbolResolveRequest||(s.WorkspaceSymbolResolveRequest={}));var nd;(function(e){e.method="textDocument/codeLens",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(nd=s.CodeLensRequest||(s.CodeLensRequest={}));var id;(function(e){e.method="codeLens/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(id=s.CodeLensResolveRequest||(s.CodeLensResolveRequest={}));var od;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType0(e.method)})(od=s.CodeLensRefreshRequest||(s.CodeLensRefreshRequest={}));var sd;(function(e){e.method="textDocument/documentLink",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(sd=s.DocumentLinkRequest||(s.DocumentLinkRequest={}));var ad;(function(e){e.method="documentLink/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(ad=s.DocumentLinkResolveRequest||(s.DocumentLinkResolveRequest={}));var cd;(function(e){e.method="textDocument/formatting",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(cd=s.DocumentFormattingRequest||(s.DocumentFormattingRequest={}));var ud;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(ud=s.DocumentRangeFormattingRequest||(s.DocumentRangeFormattingRequest={}));var dd;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(dd=s.DocumentOnTypeFormattingRequest||(s.DocumentOnTypeFormattingRequest={}));var ld;(function(e){e.Identifier=1})(ld=s.PrepareSupportDefaultBehavior||(s.PrepareSupportDefaultBehavior={}));var fd;(function(e){e.method="textDocument/rename",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(fd=s.RenameRequest||(s.RenameRequest={}));var pd;(function(e){e.method="textDocument/prepareRename",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(pd=s.PrepareRenameRequest||(s.PrepareRenameRequest={}));var hd;(function(e){e.method="workspace/executeCommand",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(hd=s.ExecuteCommandRequest||(s.ExecuteCommandRequest={}));var gd;(function(e){e.method="workspace/applyEdit",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType("workspace/applyEdit")})(gd=s.ApplyWorkspaceEditRequest||(s.ApplyWorkspaceEditRequest={}))});var Is=E(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.createProtocolConnection=void 0;var Ls=dt();function md(e,t,i,n){return Ls.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Ls.createMessageConnection)(e,t,i,n)}jr.createProtocolConnection=md});var Fs=E(ye=>{"use strict";var yd=ye&&ye.__createBinding||(Object.create?function(e,t,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){n===void 0&&(n=i),e[n]=t[i]}),Ar=ye&&ye.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&yd(t,e,i)};Object.defineProperty(ye,"__esModule",{value:!0});ye.LSPErrorCodes=ye.createProtocolConnection=void 0;Ar(dt(),ye);Ar((qr(),fr(Sr)),ye);Ar(Z(),ye);Ar(As(),ye);var vd=Is();Object.defineProperty(ye,"createProtocolConnection",{enumerable:!0,get:function(){return vd.createProtocolConnection}});var bd;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(bd=ye.LSPErrorCodes||(ye.LSPErrorCodes={}))});var Us=E(We=>{"use strict";var Rd=We&&We.__createBinding||(Object.create?function(e,t,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){n===void 0&&(n=i),e[n]=t[i]}),Ws=We&&We.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Rd(t,e,i)};Object.defineProperty(We,"__esModule",{value:!0});We.createProtocolConnection=void 0;var _d=Dn();Ws(Dn(),We);Ws(Fs(),We);function Dd(e,t,i,n){return(0,_d.createMessageConnection)(e,t,i,n)}We.createProtocolConnection=Dd});var wd={};qi(wd,{activate:()=>Hs});var B=it(require("coc.nvim"));var De=it(require("coc.nvim"));var ki;(()=>{"use strict";var e={470:r=>{function o(d){if(typeof d!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(d))}function a(d,f){for(var v,y="",P=0,p=-1,w=0,C=0;C<=d.length;++C){if(C<d.length)v=d.charCodeAt(C);else{if(v===47)break;v=47}if(v===47){if(!(p===C-1||w===1))if(p!==C-1&&w===2){if(y.length<2||P!==2||y.charCodeAt(y.length-1)!==46||y.charCodeAt(y.length-2)!==46){if(y.length>2){var A=y.lastIndexOf("/");if(A!==y.length-1){A===-1?(y="",P=0):P=(y=y.slice(0,A)).length-1-y.lastIndexOf("/"),p=C,w=0;continue}}else if(y.length===2||y.length===1){y="",P=0,p=C,w=0;continue}}f&&(y.length>0?y+="/..":y="..",P=2)}else y.length>0?y+="/"+d.slice(p+1,C):y=d.slice(p+1,C),P=C-p-1;p=C,w=0}else v===46&&w!==-1?++w:w=-1}return y}var l={resolve:function(){for(var d,f="",v=!1,y=arguments.length-1;y>=-1&&!v;y--){var P;y>=0?P=arguments[y]:(d===void 0&&(d=process.cwd()),P=d),o(P),P.length!==0&&(f=P+"/"+f,v=P.charCodeAt(0)===47)}return f=a(f,!v),v?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(d){if(o(d),d.length===0)return".";var f=d.charCodeAt(0)===47,v=d.charCodeAt(d.length-1)===47;return(d=a(d,!f)).length!==0||f||(d="."),d.length>0&&v&&(d+="/"),f?"/"+d:d},isAbsolute:function(d){return o(d),d.length>0&&d.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var d,f=0;f<arguments.length;++f){var v=arguments[f];o(v),v.length>0&&(d===void 0?d=v:d+="/"+v)}return d===void 0?".":l.normalize(d)},relative:function(d,f){if(o(d),o(f),d===f||(d=l.resolve(d))===(f=l.resolve(f)))return"";for(var v=1;v<d.length&&d.charCodeAt(v)===47;++v);for(var y=d.length,P=y-v,p=1;p<f.length&&f.charCodeAt(p)===47;++p);for(var w=f.length-p,C=P<w?P:w,A=-1,M=0;M<=C;++M){if(M===C){if(w>C){if(f.charCodeAt(p+M)===47)return f.slice(p+M+1);if(M===0)return f.slice(p+M)}else P>C&&(d.charCodeAt(v+M)===47?A=M:M===0&&(A=0));break}var W=d.charCodeAt(v+M);if(W!==f.charCodeAt(p+M))break;W===47&&(A=M)}var L="";for(M=v+A+1;M<=y;++M)M!==y&&d.charCodeAt(M)!==47||(L.length===0?L+="..":L+="/..");return L.length>0?L+f.slice(p+A):(p+=A,f.charCodeAt(p)===47&&++p,f.slice(p))},_makeLong:function(d){return d},dirname:function(d){if(o(d),d.length===0)return".";for(var f=d.charCodeAt(0),v=f===47,y=-1,P=!0,p=d.length-1;p>=1;--p)if((f=d.charCodeAt(p))===47){if(!P){y=p;break}}else P=!1;return y===-1?v?"/":".":v&&y===1?"//":d.slice(0,y)},basename:function(d,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');o(d);var v,y=0,P=-1,p=!0;if(f!==void 0&&f.length>0&&f.length<=d.length){if(f.length===d.length&&f===d)return"";var w=f.length-1,C=-1;for(v=d.length-1;v>=0;--v){var A=d.charCodeAt(v);if(A===47){if(!p){y=v+1;break}}else C===-1&&(p=!1,C=v+1),w>=0&&(A===f.charCodeAt(w)?--w==-1&&(P=v):(w=-1,P=C))}return y===P?P=C:P===-1&&(P=d.length),d.slice(y,P)}for(v=d.length-1;v>=0;--v)if(d.charCodeAt(v)===47){if(!p){y=v+1;break}}else P===-1&&(p=!1,P=v+1);return P===-1?"":d.slice(y,P)},extname:function(d){o(d);for(var f=-1,v=0,y=-1,P=!0,p=0,w=d.length-1;w>=0;--w){var C=d.charCodeAt(w);if(C!==47)y===-1&&(P=!1,y=w+1),C===46?f===-1?f=w:p!==1&&(p=1):f!==-1&&(p=-1);else if(!P){v=w+1;break}}return f===-1||y===-1||p===0||p===1&&f===y-1&&f===v+1?"":d.slice(f,y)},format:function(d){if(d===null||typeof d!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof d);return function(f,v){var y=v.dir||v.root,P=v.base||(v.name||"")+(v.ext||"");return y?y===v.root?y+P:y+"/"+P:P}(0,d)},parse:function(d){o(d);var f={root:"",dir:"",base:"",ext:"",name:""};if(d.length===0)return f;var v,y=d.charCodeAt(0),P=y===47;P?(f.root="/",v=1):v=0;for(var p=-1,w=0,C=-1,A=!0,M=d.length-1,W=0;M>=v;--M)if((y=d.charCodeAt(M))!==47)C===-1&&(A=!1,C=M+1),y===46?p===-1?p=M:W!==1&&(W=1):p!==-1&&(W=-1);else if(!A){w=M+1;break}return p===-1||C===-1||W===0||W===1&&p===C-1&&p===w+1?C!==-1&&(f.base=f.name=w===0&&P?d.slice(1,C):d.slice(w,C)):(w===0&&P?(f.name=d.slice(1,p),f.base=d.slice(1,C)):(f.name=d.slice(w,p),f.base=d.slice(w,C)),f.ext=d.slice(p,C)),w>0?f.dir=d.slice(0,w-1):P&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,r.exports=l}},t={};function i(r){var o=t[r];if(o!==void 0)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,i),a.exports}i.d=(r,o)=>{for(var a in o)i.o(o,a)&&!i.o(r,a)&&Object.defineProperty(r,a,{enumerable:!0,get:o[a]})},i.o=(r,o)=>Object.prototype.hasOwnProperty.call(r,o),i.r=r=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var n={};(()=>{var r;if(i.r(n),i.d(n,{URI:()=>A,Utils:()=>ht}),typeof process=="object")r=process.platform==="win32";else if(typeof navigator=="object"){var o=navigator.userAgent;r=o.indexOf("Windows")>=0}var a,l,d=(a=function(b,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,D){R.__proto__=D}||function(R,D){for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(R[O]=D[O])},a(b,h)},function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function R(){this.constructor=b}a(b,h),b.prototype=h===null?Object.create(h):(R.prototype=h.prototype,new R)}),f=/^\w[\w\d+.-]*$/,v=/^\//,y=/^\/\//;function P(b,h){if(!b.scheme&&h)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(b.authority,'", path: "').concat(b.path,'", query: "').concat(b.query,'", fragment: "').concat(b.fragment,'"}'));if(b.scheme&&!f.test(b.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(b.path){if(b.authority){if(!v.test(b.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(b.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var p="",w="/",C=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,A=function(){function b(h,R,D,O,j,N){N===void 0&&(N=!1),typeof h=="object"?(this.scheme=h.scheme||p,this.authority=h.authority||p,this.path=h.path||p,this.query=h.query||p,this.fragment=h.fragment||p):(this.scheme=function(_e,pe){return _e||pe?_e:"file"}(h,N),this.authority=R||p,this.path=function(_e,pe){switch(_e){case"https":case"http":case"file":pe?pe[0]!==w&&(pe=w+pe):pe=w}return pe}(this.scheme,D||p),this.query=O||p,this.fragment=j||p,P(this,N))}return b.isUri=function(h){return h instanceof b||!!h&&typeof h.authority=="string"&&typeof h.fragment=="string"&&typeof h.path=="string"&&typeof h.query=="string"&&typeof h.scheme=="string"&&typeof h.fsPath=="string"&&typeof h.with=="function"&&typeof h.toString=="function"},Object.defineProperty(b.prototype,"fsPath",{get:function(){return be(this,!1)},enumerable:!1,configurable:!0}),b.prototype.with=function(h){if(!h)return this;var R=h.scheme,D=h.authority,O=h.path,j=h.query,N=h.fragment;return R===void 0?R=this.scheme:R===null&&(R=p),D===void 0?D=this.authority:D===null&&(D=p),O===void 0?O=this.path:O===null&&(O=p),j===void 0?j=this.query:j===null&&(j=p),N===void 0?N=this.fragment:N===null&&(N=p),R===this.scheme&&D===this.authority&&O===this.path&&j===this.query&&N===this.fragment?this:new W(R,D,O,j,N)},b.parse=function(h,R){R===void 0&&(R=!1);var D=C.exec(h);return D?new W(D[2]||p,rt(D[4]||p),rt(D[5]||p),rt(D[7]||p),rt(D[9]||p),R):new W(p,p,p,p,p)},b.file=function(h){var R=p;if(r&&(h=h.replace(/\\/g,w)),h[0]===w&&h[1]===w){var D=h.indexOf(w,2);D===-1?(R=h.substring(2),h=w):(R=h.substring(2,D),h=h.substring(D)||w)}return new W("file",R,h,p,p)},b.from=function(h){var R=new W(h.scheme,h.authority,h.path,h.query,h.fragment);return P(R,!0),R},b.prototype.toString=function(h){return h===void 0&&(h=!1),je(this,h)},b.prototype.toJSON=function(){return this},b.revive=function(h){if(h){if(h instanceof b)return h;var R=new W(h);return R._formatted=h.external,R._fsPath=h._sep===M?h.fsPath:null,R}return h},b}(),M=r?1:void 0,W=function(b){function h(){var R=b!==null&&b.apply(this,arguments)||this;return R._formatted=null,R._fsPath=null,R}return d(h,b),Object.defineProperty(h.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=be(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),h.prototype.toString=function(R){return R===void 0&&(R=!1),R?je(this,!0):(this._formatted||(this._formatted=je(this,!1)),this._formatted)},h.prototype.toJSON=function(){var R={$mid:1};return this._fsPath&&(R.fsPath=this._fsPath,R._sep=M),this._formatted&&(R.external=this._formatted),this.path&&(R.path=this.path),this.scheme&&(R.scheme=this.scheme),this.authority&&(R.authority=this.authority),this.query&&(R.query=this.query),this.fragment&&(R.fragment=this.fragment),R},h}(A),L=((l={})[58]="%3A",l[47]="%2F",l[63]="%3F",l[35]="%23",l[91]="%5B",l[93]="%5D",l[64]="%40",l[33]="%21",l[36]="%24",l[38]="%26",l[39]="%27",l[40]="%28",l[41]="%29",l[42]="%2A",l[43]="%2B",l[44]="%2C",l[59]="%3B",l[61]="%3D",l[32]="%20",l);function ve(b,h,R){for(var D=void 0,O=-1,j=0;j<b.length;j++){var N=b.charCodeAt(j);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||h&&N===47||R&&N===91||R&&N===93||R&&N===58)O!==-1&&(D+=encodeURIComponent(b.substring(O,j)),O=-1),D!==void 0&&(D+=b.charAt(j));else{D===void 0&&(D=b.substr(0,j));var _e=L[N];_e!==void 0?(O!==-1&&(D+=encodeURIComponent(b.substring(O,j)),O=-1),D+=_e):O===-1&&(O=j)}}return O!==-1&&(D+=encodeURIComponent(b.substring(O))),D!==void 0?D:b}function G(b){for(var h=void 0,R=0;R<b.length;R++){var D=b.charCodeAt(R);D===35||D===63?(h===void 0&&(h=b.substr(0,R)),h+=L[D]):h!==void 0&&(h+=b[R])}return h!==void 0?h:b}function be(b,h){var R;return R=b.authority&&b.path.length>1&&b.scheme==="file"?"//".concat(b.authority).concat(b.path):b.path.charCodeAt(0)===47&&(b.path.charCodeAt(1)>=65&&b.path.charCodeAt(1)<=90||b.path.charCodeAt(1)>=97&&b.path.charCodeAt(1)<=122)&&b.path.charCodeAt(2)===58?h?b.path.substr(1):b.path[1].toLowerCase()+b.path.substr(2):b.path,r&&(R=R.replace(/\//g,"\\")),R}function je(b,h){var R=h?G:ve,D="",O=b.scheme,j=b.authority,N=b.path,_e=b.query,pe=b.fragment;if(O&&(D+=O,D+=":"),(j||O==="file")&&(D+=w,D+=w),j){var Pe=j.indexOf("@");if(Pe!==-1){var mt=j.substr(0,Pe);j=j.substr(Pe+1),(Pe=mt.lastIndexOf(":"))===-1?D+=R(mt,!1,!1):(D+=R(mt.substr(0,Pe),!1,!1),D+=":",D+=R(mt.substr(Pe+1),!1,!0)),D+="@"}(Pe=(j=j.toLowerCase()).lastIndexOf(":"))===-1?D+=R(j,!1,!0):(D+=R(j.substr(0,Pe),!1,!0),D+=j.substr(Pe))}if(N){if(N.length>=3&&N.charCodeAt(0)===47&&N.charCodeAt(2)===58)(Qe=N.charCodeAt(1))>=65&&Qe<=90&&(N="/".concat(String.fromCharCode(Qe+32),":").concat(N.substr(3)));else if(N.length>=2&&N.charCodeAt(1)===58){var Qe;(Qe=N.charCodeAt(0))>=65&&Qe<=90&&(N="".concat(String.fromCharCode(Qe+32),":").concat(N.substr(2)))}D+=R(N,!0,!1)}return _e&&(D+="?",D+=R(_e,!1,!1)),pe&&(D+="#",D+=h?pe:ve(pe,!1,!1)),D}function Re(b){try{return decodeURIComponent(b)}catch{return b.length>3?b.substr(0,3)+Re(b.substr(3)):b}}var Ue=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function rt(b){return b.match(Ue)?b.replace(Ue,function(h){return Re(h)}):b}var ht,nt=i(470),At=function(b,h,R){if(R||arguments.length===2)for(var D,O=0,j=h.length;O<j;O++)!D&&O in h||(D||(D=Array.prototype.slice.call(h,0,O)),D[O]=h[O]);return b.concat(D||Array.prototype.slice.call(h))},$e=nt.posix||nt,gt="/";(function(b){b.joinPath=function(h){for(var R=[],D=1;D<arguments.length;D++)R[D-1]=arguments[D];return h.with({path:$e.join.apply($e,At([h.path],R,!1))})},b.resolvePath=function(h){for(var R=[],D=1;D<arguments.length;D++)R[D-1]=arguments[D];var O=h.path,j=!1;O[0]!==gt&&(O=gt+O,j=!0);var N=$e.resolve.apply($e,At([O],R,!1));return j&&N[0]===gt&&!h.authority&&(N=N.substring(1)),h.with({path:N})},b.dirname=function(h){if(h.path.length===0||h.path===gt)return h;var R=$e.dirname(h.path);return R.length===1&&R.charCodeAt(0)===46&&(R=""),h.with({path:R})},b.basename=function(h){return $e.basename(h.path)},b.extname=function(h){return $e.extname(h.path)}})(ht||(ht={}))})(),ki=n})();var{URI:Cd,Utils:Wr}=ki;function Ni(e){let t=Oi(),i=Ei(),n=new De.Emitter;return e.push(De.extensions.onDidLoadExtension(r=>{let o=Ei();(o.length!==i.length||!o.every((a,l)=>a===i[l]))&&(i=o,n.fire())})),e.push(De.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("css.customData")&&(t=Oi(),n.fire())})),{get uris(){return t.concat(i)},get onDidChange(){return n.event}}}function Oi(){let e=De.workspace.workspaceFolders,t=[];if(!e)return t;let i=(n,r)=>{if(Array.isArray(n))for(let o of n)typeof o=="string"&&t.push(Wr.resolvePath(r,o).toString())};for(let n=0;n<e.length;n++){let r=De.Uri.parse(e[n].uri),a=De.workspace.getConfiguration("css",r).inspect("customData");a&&(i(a.workspaceFolderValue,r),n===0&&i(a.globalValue,r))}return t}function Ei(){var t,i,n;let e=[];for(let r of De.extensions.all){let o=(n=(i=(t=r.packageJSON)==null?void 0:t.contributes)==null?void 0:i.css)==null?void 0:n.customData;if(Array.isArray(o))for(let a of o){let l=De.Uri.file(r.extensionPath);e.push(Wr.joinPath(l,a).toString())}}return e}var Ye=it(require("coc.nvim"));var Ur;(t=>{t.type=new Ye.RequestType("fs/content")})(Ur||(Ur={}));var $r;(t=>{t.type=new Ye.RequestType("fs/stat")})($r||($r={}));var Hr;(t=>{t.type=new Ye.RequestType("fs/readDir")})(Hr||(Hr={}));function Mi(e,t){e.onRequest(Ur.type,i=>{if(Ye.Uri.parse(i.uri).scheme==="file"&&t.fs)return t.fs.getContent(i.uri)}),e.onRequest(Hr.type,i=>{if(Ye.Uri.parse(i).scheme==="file"&&t.fs)return t.fs.readDirectory(i)}),e.onRequest($r.type,i=>{if(Ye.Uri.parse(i).scheme==="file"&&t.fs)return t.fs.stat(i)})}var Ce=(r=>(r[r.Unknown=0]="Unknown",r[r.File=1]="File",r[r.Directory=2]="Directory",r[r.SymbolicLink=64]="SymbolicLink",r))(Ce||{}),Od=".".charCodeAt(0);var $s=it(require("util"));var bt=it(require("fs")),pr=it(require("coc.nvim"));function ji(){function e(t){if(!t.startsWith("file://"))throw new Error("fileRequestService can only handle file URLs")}return{getContent(t,i){return e(t),new Promise((n,r)=>{let o=pr.Uri.parse(t);bt.readFile(o.fsPath,i,(a,l)=>{if(a)return r(a);n(l.toString())})})},stat(t){return e(t),new Promise((i,n)=>{let r=pr.Uri.parse(t);bt.stat(r.fsPath,(o,a)=>{if(o)return o.code==="ENOENT"?i({type:0,ctime:-1,mtime:-1,size:-1}):n(o);let l=0;a.isFile()?l=1:a.isDirectory()?l=2:a.isSymbolicLink()&&(l=64),i({type:l,ctime:a.ctime.getTime(),mtime:a.mtime.getTime(),size:a.size})})})},readDirectory(t){return e(t),new Promise((i,n)=>{let r=pr.Uri.parse(t).fsPath;bt.readdir(r,{withFileTypes:!0},(o,a)=>{if(o)return n(o);i(a.map(l=>l.isSymbolicLink()?[l.name,64]:l.isDirectory()?[l.name,2]:l.isFile()?[l.name,1]:[l.name,0]))})})}}}var Ti=it(Us()),Lr;(t=>{t.type=new B.NotificationType("css/customDataChanged")})(Lr||(Lr={}));var Td=["newlineBetweenSelectors","newlineBetweenRules","spaceAroundSelectorSeparator","braceStyle","preserveNewLines","maxPreserveNewLines"];async function Hs(e){let{subscriptions:t}=e,i=B.workspace.getConfiguration().get("css",{}),n=e.asAbsolutePath("./lib/server.js"),r=["css","scss","less"],o=Ni(e.subscriptions),a=r.map(w=>({languageId:w,settingId:`${w}.format.enable`,provider:void 0})),l={fs:ji(),TextDecoder:$s.TextDecoder},d={execArgv:["--nolazy","--inspect="+(7e3+Math.round(Math.random()*999))]},f={run:{module:n,transport:B.TransportKind.ipc,options:{cwd:B.workspace.root,execArgv:i.execArgv||[]}},debug:{module:n,transport:B.TransportKind.ipc,options:d}},v={documentSelector:r,synchronize:{configurationSection:["css","less","scss"]},outputChannelName:"css",initializationOptions:{handledSchemas:["file"],provideFormatter:!1,customCapabilities:{rangeFormatting:{editLimit:1e4}}},middleware:{}},y=new B.LanguageClient("css","Css language server",f,v);await y.start(),y.serviceState===B.ServiceStat.Running&&(y.sendNotification(Lr.type,o.uris),o.onDidChange(()=>{y.sendNotification(Lr.type,o.uris)})),t.push(B.services.registerLanguageClient(y));for(let w of a)p(w),e.subscriptions.push({dispose:()=>{var C;return(C=w.provider)==null?void 0:C.dispose()}}),e.subscriptions.push(B.workspace.onDidChangeConfiguration(C=>C.affectsConfiguration(w.settingId)&&p(w)));Mi(y,l),B.commands.registerCommand("_css.applyCodeAction",P);function P(w,C,A){let M=B.window.activeTextEditor;M&&M.document.uri.toString()===w&&(M.document.version!==C&&B.window.showInformationMessage("CSS fix is outdated and can't be applied to the document."),M.document.applyEdits(A).catch(W=>{B.window.showErrorMessage(`Failed to apply CSS fix to the document. ${W.message}`)}))}function p(w){let C=B.workspace.getConfiguration().get(w.settingId);!C&&w.provider?(w.provider.dispose(),w.provider=void 0):C&&!w.provider&&(w.provider=B.languages.registerDocumentRangeFormatProvider([w.languageId],{provideDocumentRangeFormattingEdits(A,M,W,L){let ve=B.workspace.getConfiguration("files",A),G={trimTrailingWhitespace:ve.get("trimTrailingWhitespace"),trimFinalNewlines:ve.get("trimFinalNewlines"),insertFinalNewline:ve.get("insertFinalNewline")},be={textDocument:{uri:A.uri},range:M,options:Object.assign({},G,W)},je=B.workspace.getConfiguration(w.languageId,A).get("format");if(je)for(let Re of Td){let Ue=je[Re];Ue!=null&&(be.options[Re]=Ue)}return y.sendRequest(Ti.DocumentRangeFormattingRequest.type,be,L).then(Re=>Re,Re=>(y.handleFailedRequest(Ti.DocumentRangeFormattingRequest.type,void 0,Re,[]),Promise.resolve([])))}}))}}module.exports=fr(wd);0&&(module.exports={activate});
//# sourceMappingURL=index.js.map
